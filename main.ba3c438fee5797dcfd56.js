(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"93cA":function(e,t,n){e.exports=n.p+"c37b97b969656107e679d7ad8ef77a79.woff"},J6RI:function(e,t,n){t=e.exports=n("JPst")(!1);var o=n("HeW1"),a=o(n("aZUD")),r=o(n("93cA")),i=o(n("cEfc"));t.push([e.i,'\n/* COLOR PALETTE */\n:root {\n    --GR1: #191a1d;\n    --GR2: #202124;\n    --GR3: #2d2e30;\n    --GR4: #3f4042;\n    --GR5: #d9d9d9;\n}\n\n/* GLOBAL */\nbody {\n    margin: 0;\n    background-color: var(--GR1);\n}\n\n\n\n.material-icons {\n    position: relative;\n    z-index: 1;\n    cursor: pointer;\n}\n\n#globe {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    overflow: visible;\n    z-index: 0;\n}\n\n/* FONTS */\n@font-face {\n    font-family: "din";\n    src: url('+a+") format('woff');\n}\n@font-face {\n    font-family: \"din\";\n    src: url("+r+") format('woff');\n    font-weight: bold;\n}\n@font-face {\n    font-family: \"din\";\n    src: url("+i+") format('woff');\n    font-style: italic;\n}\n* { font-family: \"din\" }\n\n/* HEADER */\n/* header {\n\n} */\n\n.cont {\n    position: absolute;\n    color: white;\n}\n\n.unselectable {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}",""])},OMi8:function(e,t,n){var o=n("J6RI");"string"==typeof o&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};n("LboF")(o,a);o.locals&&(e.exports=o.locals)},aZUD:function(e,t,n){e.exports=n.p+"7d2271b97e1fc197a8410ec269814cbc.woff"},cEfc:function(e,t,n){e.exports=n.p+"e6713781e2b16fe3b5fafd8117433ee4.woff"},orRV:function(e){e.exports=JSON.parse('{"camera":{"fov":40,"near":0.1,"far":10000,"controls":{"distance":{"start":5,"min":4,"max":10},"damping":0.05,"rotateSpeed":1}},"globe":{"scale":1,"atmosphere":{"color":[89.99999999999999,124.05405405405409,179.99999999999997],"brightness":31,"reflection":0.89,"ray":30.699999999999932,"mie":0.000001,"spread":0.2699999999999997,"thick":2.5000000000000004,"test":0.19999999999999976}}}')},tjUo:function(e,t,n){"use strict";n.r(t);n("OMi8");function o(e,t,n){var o,a,r,i,c;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new oe.B,this.minDistance=n.distance.min,this.maxDistance=n.distance.max,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=Boolean(n.damping),this.dampingFactor=n.damping,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=n.rotateSpeed,this.enablePan=!1,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:oe.l.ROTATE,MIDDLE:oe.l.DOLLY,RIGHT:oe.l.PAN},this.touches={ONE:oe.y.ROTATE,TWO:oe.y.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=function(){s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),s.dispatchEvent(l),s.update(),m=d.NONE},this.update=(o=new oe.B,a=(new oe.s).setFromUnitVectors(e.up,new oe.B(0,1,0)),r=a.clone().inverse(),i=new oe.B,c=new oe.s,function(){var e=s.object.position;return o.copy(e).sub(s.target),o.applyQuaternion(a),h.setFromVector3(o),s.autoRotate&&m===d.NONE&&L(2*Math.PI/60/60*s.autoRotateSpeed),s.enableDamping?(h.theta+=v.theta*s.dampingFactor,h.phi+=v.phi*s.dampingFactor):(h.theta+=v.theta,h.phi+=v.phi),h.theta=Math.max(s.minAzimuthAngle,Math.min(s.maxAzimuthAngle,h.theta)),h.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=y,h.radius=Math.max(s.minDistance,Math.min(s.maxDistance,h.radius)),!0===s.enableDamping?s.target.addScaledVector(b,s.dampingFactor):s.target.add(b),o.setFromSpherical(h),o.applyQuaternion(r),e.copy(s.target).add(o),s.object.lookAt(s.target),!0===s.enableDamping?(v.theta*=1-s.dampingFactor,v.phi*=1-s.dampingFactor,b.multiplyScalar(1-s.dampingFactor)):(v.set(0,0,0),b.set(0,0,0)),y=1,!(!(g||i.distanceToSquared(s.object.position)>f||8*(1-c.dot(s.object.quaternion))>f)||(s.dispatchEvent(l),i.copy(s.object.position),c.copy(s.object.quaternion),g=!1))}),this.dispose=function(){s.domElement.removeEventListener("contextmenu",ne,!1),s.domElement.removeEventListener("mousedown",G,!1),s.domElement.removeEventListener("wheel",K,!1),s.domElement.removeEventListener("touchstart",$,!1),s.domElement.removeEventListener("touchend",te,!1),s.domElement.removeEventListener("touchmove",ee,!1),document.removeEventListener("mousemove",W,!1),document.removeEventListener("mouseup",J,!1),window.removeEventListener("keydown",Q,!1)};var s=this,l={type:"change"},u={type:"start"},p={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},m=d.NONE,f=1e-6,h=new oe.x;s.spherical=h;var v=new oe.x,y=1,b=new oe.B,g=!1,x=new oe.A,w=new oe.A,M=new oe.A,P=new oe.A,A=new oe.A,E=new oe.A,T=new oe.A,k=new oe.A,O=new oe.A;function _(){return Math.pow(.95,s.zoomSpeed)}function L(e){v.theta-=e}function S(e){v.phi-=e}var z,j,C,D=(z=new oe.B,function(e,t){z.setFromMatrixColumn(t,0),z.multiplyScalar(-e),b.add(z)}),N=(j=new oe.B,function(e,t){!0===s.screenSpacePanning?j.setFromMatrixColumn(t,1):(j.setFromMatrixColumn(t,0),j.crossVectors(s.object.up,j)),j.multiplyScalar(e),b.add(j)}),R=(C=new oe.B,function(e,t){var n=s.domElement===document?s.domElement.body:s.domElement;if(s.object.isPerspectiveCamera){var o=s.object.position;C.copy(o).sub(s.target);var a=C.length();a*=Math.tan(s.object.fov/2*Math.PI/180),D(2*e*a/n.clientHeight,s.object.matrix),N(2*t*a/n.clientHeight,s.object.matrix)}else s.object.isOrthographicCamera?(D(e*(s.object.right-s.object.left)/s.object.zoom/n.clientWidth,s.object.matrix),N(t*(s.object.top-s.object.bottom)/s.object.zoom/n.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)});function F(e){s.object.isPerspectiveCamera?y/=e:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom*e)),s.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function V(e){s.object.isPerspectiveCamera?y*=e:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/e)),s.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function I(e){x.set(e.clientX,e.clientY)}function Y(e){P.set(e.clientX,e.clientY)}function H(e){if(1==e.touches.length)x.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(t,n)}}function q(e){if(1==e.touches.length)P.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);P.set(t,n)}}function B(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);T.set(0,o)}function X(e){if(1==e.touches.length)w.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);w.set(t,n)}M.subVectors(w,x).multiplyScalar(s.rotateSpeed);var o=s.domElement===document?s.domElement.body:s.domElement;L(2*Math.PI*M.x/o.clientHeight),S(2*Math.PI*M.y/o.clientHeight),x.copy(w)}function U(e){if(1==e.touches.length)A.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);A.set(t,n)}E.subVectors(A,P).multiplyScalar(s.panSpeed),R(E.x,E.y),P.copy(A)}function Z(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);k.set(0,o),O.set(0,Math.pow(k.y/T.y,s.zoomSpeed)),F(O.y),T.copy(k)}function G(e){if(!1!==s.enabled){switch(s.domElement.focus?s.domElement.focus():window.focus(),e.button){case 0:switch(s.mouseButtons.LEFT){case oe.l.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===s.enablePan)return;Y(e),m=d.PAN}else{if(!1===s.enableRotate)return;I(e),m=d.ROTATE}break;case oe.l.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===s.enableRotate)return;I(e),m=d.ROTATE}else{if(!1===s.enablePan)return;Y(e),m=d.PAN}break;default:m=d.NONE}break;case 1:switch(s.mouseButtons.MIDDLE){case oe.l.DOLLY:if(!1===s.enableZoom)return;!function(e){T.set(e.clientX,e.clientY)}(e),m=d.DOLLY;break;default:m=d.NONE}break;case 2:switch(s.mouseButtons.RIGHT){case oe.l.ROTATE:if(!1===s.enableRotate)return;I(e),m=d.ROTATE;break;case oe.l.PAN:if(!1===s.enablePan)return;Y(e),m=d.PAN;break;default:m=d.NONE}}m!==d.NONE&&(document.addEventListener("mousemove",W,!1),document.addEventListener("mouseup",J,!1),s.dispatchEvent(u))}}function W(e){if(!1!==s.enabled)switch(e.preventDefault(),m){case d.ROTATE:if(!1===s.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),M.subVectors(w,x).multiplyScalar(s.rotateSpeed);var t=s.domElement===document?s.domElement.body:s.domElement;L(2*Math.PI*M.x/t.clientHeight),S(2*Math.PI*M.y/t.clientHeight),x.copy(w),s.update()}(e);break;case d.DOLLY:if(!1===s.enableZoom)return;!function(e){k.set(e.clientX,e.clientY),O.subVectors(k,T),0<O.y?F(_()):O.y<0&&V(_()),T.copy(k),s.update()}(e);break;case d.PAN:if(!1===s.enablePan)return;!function(e){A.set(e.clientX,e.clientY),E.subVectors(A,P).multiplyScalar(s.panSpeed),R(E.x,E.y),P.copy(A),s.update()}(e)}}function J(e){!1!==s.enabled&&(document.removeEventListener("mousemove",W,!1),document.removeEventListener("mouseup",J,!1),s.dispatchEvent(p),m=d.NONE)}function K(e){!1===s.enabled||!1===s.enableZoom||m!==d.NONE&&m!==d.ROTATE||(e.preventDefault(),e.stopPropagation(),s.dispatchEvent(u),function(e){e.deltaY<0?V(_()):0<e.deltaY&&F(_()),s.update()}(e),s.dispatchEvent(p))}function Q(e){!1!==s.enabled&&!1!==s.enableKeys&&!1!==s.enablePan&&function(e){var t=!1;switch(e.keyCode){case s.keys.UP:R(0,s.keyPanSpeed),t=!0;break;case s.keys.BOTTOM:R(0,-s.keyPanSpeed),t=!0;break;case s.keys.LEFT:R(s.keyPanSpeed,0),t=!0;break;case s.keys.RIGHT:R(-s.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),s.update())}(e)}function $(e){if(!1!==s.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(s.touches.ONE){case oe.y.ROTATE:if(!1===s.enableRotate)return;H(e),m=d.TOUCH_ROTATE;break;case oe.y.PAN:if(!1===s.enablePan)return;q(e),m=d.TOUCH_PAN;break;default:m=d.NONE}break;case 2:switch(s.touches.TWO){case oe.y.DOLLY_PAN:if(!1===s.enableZoom&&!1===s.enablePan)return;!function(e){s.enableZoom&&B(e),s.enablePan&&q(e)}(e),m=d.TOUCH_DOLLY_PAN;break;case oe.y.DOLLY_ROTATE:if(!1===s.enableZoom&&!1===s.enableRotate)return;!function(e){s.enableZoom&&B(e),s.enableRotate&&H(e)}(e),m=d.TOUCH_DOLLY_ROTATE;break;default:m=d.NONE}break;default:m=d.NONE}m!==d.NONE&&s.dispatchEvent(u)}}function ee(e){if(!1!==s.enabled)switch(e.preventDefault(),e.stopPropagation(),m){case d.TOUCH_ROTATE:if(!1===s.enableRotate)return;X(e),s.update();break;case d.TOUCH_PAN:if(!1===s.enablePan)return;U(e),s.update();break;case d.TOUCH_DOLLY_PAN:if(!1===s.enableZoom&&!1===s.enablePan)return;!function(e){s.enableZoom&&Z(e),s.enablePan&&U(e)}(e),s.update();break;case d.TOUCH_DOLLY_ROTATE:if(!1===s.enableZoom&&!1===s.enableRotate)return;!function(e){s.enableZoom&&Z(e),s.enableRotate&&X(e)}(e),s.update();break;default:m=d.NONE}}function te(e){!1!==s.enabled&&(s.dispatchEvent(p),m=d.NONE)}function ne(e){!1!==s.enabled&&e.preventDefault()}s.domElement.addEventListener("contextmenu",ne,!1),s.domElement.addEventListener("mousedown",G,!1),s.domElement.addEventListener("wheel",K,!1),s.domElement.addEventListener("touchstart",$,!1),s.domElement.addEventListener("touchend",te,!1),s.domElement.addEventListener("touchmove",ee,!1),window.addEventListener("keydown",Q,!1),this.update()}var oe=n("Womt");(o.prototype=Object.create(oe.f.prototype)).constructor=o;function a(e,t){o.call(this,e,t),this.mouseButtons.LEFT=oe.l.PAN,this.mouseButtons.RIGHT=oe.l.ROTATE,this.touches.ONE=oe.y.PAN,this.touches.TWO=oe.y.DOLLY_ROTATE}(a.prototype=Object.create(oe.f.prototype)).constructor=a;var s=o;function l(e){var r=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:60;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"record",function(e){if(r.samples.length>r.sampleCount&&r.samples.shift(),r.samples.push(e),r.lastUpdate+=e,!(r.lastUpdate<.1)){r.lastUpdate%=.1;for(var t=0,n=0;n<r.samples.length;n++)t+=r.samples[n];var o=1/(t/r.samples.length),a=parseInt(o);r.element.innerHTML="".concat(a)}});var n=document.createElement("div");n.innerHTML="0",n.style.color="white",e.appendChild(n),this.sampleCount=t,this.element=n,this.samples=[],this.lastUpdate=0}function u(e){oe.k.call(this,e)}var Y,H,q,B,X,U,Z,G,W,J,K,Q,$,ee,te,ne,ae;u.prototype=Object.assign(Object.create(oe.k.prototype),{constructor:u,load:function(e,t,n,o){var a=this,r=new oe.g(a.manager);r.setPath(a.path),r.load(e,function(e){t(a.parse(e))},n,o)},parse:function(e){function g(e,t,n,o,a,r,i,c){o=o*Math.PI/180,t=Math.abs(t),n=Math.abs(n);var s=(i.x-c.x)/2,l=(i.y-c.y)/2,u=Math.cos(o)*s+Math.sin(o)*l,p=-Math.sin(o)*s+Math.cos(o)*l,d=t*t,m=n*n,f=u*u,h=p*p,v=f/d+h/m;if(1<v){var y=Math.sqrt(v);d=(t*=y)*t,m=(n*=y)*n}var b=d*h+m*f,g=(d*m-b)/b,x=Math.sqrt(Math.max(0,g));a===r&&(x=-x);var w=x*t*p/n,M=-x*n*u/t,P=Math.cos(o)*w-Math.sin(o)*M+(i.x+c.x)/2,A=Math.sin(o)*w+Math.cos(o)*M+(i.y+c.y)/2,E=k(1,0,(u-w)/t,(p-M)/n),T=k((u-w)/t,(p-M)/n,(-u-w)/t,(-p-M)/n)%(2*Math.PI);e.currentPath.absellipse(P,A,t,n,E,E+T,0===r,o)}function k(e,t,n,o){var a=e*n+t*o,r=Math.sqrt(e*e+t*t)*Math.sqrt(n*n+o*o),i=Math.acos(Math.max(-1,Math.min(1,a/r)));return e*o-t*n<0&&(i=-i),i}function c(o,a){function e(e,t,n){void 0===n&&(n=function(e){return e}),o.hasAttribute(e)&&(a[t]=n(o.getAttribute(e))),""!==o.style[e]&&(a[t]=n(o.style[e]))}function t(e){return Math.max(0,Math.min(1,e))}function n(e){return Math.max(0,e)}return a=Object.assign({},a),e("fill","fill"),e("fill-opacity","fillOpacity",t),e("stroke","stroke"),e("stroke-opacity","strokeOpacity",t),e("stroke-width","strokeWidth",n),e("stroke-linejoin","strokeLineJoin"),e("stroke-linecap","strokeLineCap"),e("stroke-miterlimit","strokeMiterLimit",n),a}function x(e,t){return e-(t-e)}function w(e){for(var t=e.split(/[\s,]+|(?=\s?[+\-])/),n=0;n<t.length;n++){var o=t[n];if(o.indexOf(".")!==o.lastIndexOf("."))for(var a=o.split("."),r=2;r<a.length;r++)t.splice(n+r-1,0,"0."+a[r]);t[n]=parseFloat(o)}return t}console.log("THREE.SVGLoader");var s=[],l=[],y=new oe.m,b=new oe.m,M=new oe.m,P=new oe.m,d=new oe.A,m=new oe.B,u=new oe.m;console.time("THREE.SVGLoader: DOMParser");var t=(new DOMParser).parseFromString(e,"image/svg+xml");console.timeEnd("THREE.SVGLoader: DOMParser"),console.time("THREE.SVGLoader: Parse"),function e(t,n){if(1===t.nodeType){var o=function(e){if(!e.hasAttribute("transform"))return null;var t=function(e){for(var t=new oe.m,n=y,o=e.getAttribute("transform").split(")"),a=o.length-1;0<=a;a--){var r=o[a].trim();if(""!==r){var i=r.indexOf("("),c=r.length;if(0<i&&i<c){var s=r.substr(0,i),l=w(r.substr(i+1,c-i-1));switch(n.identity(),s){case"translate":if(1<=l.length){var u=l[0],p=u;2<=l.length&&(p=l[1]),n.translate(u,p)}break;case"rotate":if(1<=l.length){var d,m=0,f=0;d=-l[0]*Math.PI/180,3<=l.length&&(m=l[1],f=l[2]),b.identity().translate(-m,-f),M.identity().rotate(d),P.multiplyMatrices(M,b),b.identity().translate(m,f),n.multiplyMatrices(b,P)}break;case"scale":if(1<=l.length){var h=l[0],v=h;2<=l.length&&(v=l[1]),n.scale(h,v)}break;case"skewX":1===l.length&&n.set(1,Math.tan(l[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===l.length&&n.set(1,0,0,Math.tan(l[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===l.length&&n.set(l[0],l[2],l[4],l[1],l[3],l[5],0,0,1)}}t.premultiply(n)}}return t}(e);return 0<l.length&&t.premultiply(l[l.length-1]),u.copy(t),l.push(t),t}(t),a=null;switch(t.nodeName){case"svg":break;case"g":n=c(t,n);break;case"path":n=c(t,n),t.hasAttribute("d")&&(a=function(e){for(var t=new oe.w,n=new oe.A,o=new oe.A,a=new oe.A,r=!0,i=!1,c=e.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi),s=0,l=c.length;s<l;s++){var u=c[s],p=u.charAt(0),d=u.substr(1).trim();switch(!0===r&&(r=!(i=!0)),p){case"M":for(var m=w(d),f=0,h=m.length;f<h;f+=2)n.x=m[f+0],n.y=m[f+1],o.x=n.x,o.y=n.y,0===f?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"H":for(m=w(d),f=0,h=m.length;f<h;f++)n.x=m[f],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"V":for(m=w(d),f=0,h=m.length;f<h;f++)n.y=m[f],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"L":for(m=w(d),f=0,h=m.length;f<h;f+=2)n.x=m[f+0],n.y=m[f+1],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"C":for(m=w(d),f=0,h=m.length;f<h;f+=6)t.bezierCurveTo(m[f+0],m[f+1],m[f+2],m[f+3],m[f+4],m[f+5]),o.x=m[f+2],o.y=m[f+3],n.x=m[f+4],n.y=m[f+5],0===f&&!0===i&&a.copy(n);break;case"S":for(m=w(d),f=0,h=m.length;f<h;f+=4)t.bezierCurveTo(x(n.x,o.x),x(n.y,o.y),m[f+0],m[f+1],m[f+2],m[f+3]),o.x=m[f+0],o.y=m[f+1],n.x=m[f+2],n.y=m[f+3],0===f&&!0===i&&a.copy(n);break;case"Q":for(m=w(d),f=0,h=m.length;f<h;f+=4)t.quadraticCurveTo(m[f+0],m[f+1],m[f+2],m[f+3]),o.x=m[f+0],o.y=m[f+1],n.x=m[f+2],n.y=m[f+3],0===f&&!0===i&&a.copy(n);break;case"T":for(m=w(d),f=0,h=m.length;f<h;f+=2){var v=x(n.x,o.x),y=x(n.y,o.y);t.quadraticCurveTo(v,y,m[f+0],m[f+1]),o.x=v,o.y=y,n.x=m[f+0],n.y=m[f+1],0===f&&!0===i&&a.copy(n)}break;case"A":for(m=w(d),f=0,h=m.length;f<h;f+=7){var b=n.clone();n.x=m[f+5],n.y=m[f+6],o.x=n.x,o.y=n.y,g(t,m[f],m[f+1],m[f+2],m[f+3],m[f+4],b,n),0===f&&!0===i&&a.copy(n)}break;case"m":for(m=w(d),f=0,h=m.length;f<h;f+=2)n.x+=m[f+0],n.y+=m[f+1],o.x=n.x,o.y=n.y,0===f?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"h":for(m=w(d),f=0,h=m.length;f<h;f++)n.x+=m[f],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"v":for(m=w(d),f=0,h=m.length;f<h;f++)n.y+=m[f],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"l":for(m=w(d),f=0,h=m.length;f<h;f+=2)n.x+=m[f+0],n.y+=m[f+1],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"c":for(m=w(d),f=0,h=m.length;f<h;f+=6)t.bezierCurveTo(n.x+m[f+0],n.y+m[f+1],n.x+m[f+2],n.y+m[f+3],n.x+m[f+4],n.y+m[f+5]),o.x=n.x+m[f+2],o.y=n.y+m[f+3],n.x+=m[f+4],n.y+=m[f+5],0===f&&!0===i&&a.copy(n);break;case"s":for(m=w(d),f=0,h=m.length;f<h;f+=4)t.bezierCurveTo(x(n.x,o.x),x(n.y,o.y),n.x+m[f+0],n.y+m[f+1],n.x+m[f+2],n.y+m[f+3]),o.x=n.x+m[f+0],o.y=n.y+m[f+1],n.x+=m[f+2],n.y+=m[f+3],0===f&&!0===i&&a.copy(n);break;case"q":for(m=w(d),f=0,h=m.length;f<h;f+=4)t.quadraticCurveTo(n.x+m[f+0],n.y+m[f+1],n.x+m[f+2],n.y+m[f+3]),o.x=n.x+m[f+0],o.y=n.y+m[f+1],n.x+=m[f+2],n.y+=m[f+3],0===f&&!0===i&&a.copy(n);break;case"t":for(m=w(d),f=0,h=m.length;f<h;f+=2)v=x(n.x,o.x),y=x(n.y,o.y),t.quadraticCurveTo(v,y,n.x+m[f+0],n.y+m[f+1]),o.x=v,o.y=y,n.x=n.x+m[f+0],n.y=n.y+m[f+1],0===f&&!0===i&&a.copy(n);break;case"a":for(m=w(d),f=0,h=m.length;f<h;f+=7)b=n.clone(),n.x+=m[f+5],n.y+=m[f+6],o.x=n.x,o.y=n.y,g(t,m[f],m[f+1],m[f+2],m[f+3],m[f+4],b,n),0===f&&!0===i&&a.copy(n);break;case"Z":case"z":t.currentPath.autoClose=!0,0<t.currentPath.curves.length&&(n.copy(a),t.currentPath.currentPoint.copy(n),r=!0);break;default:console.warn(u)}i=!1}return t}(t));break;case"rect":n=c(t,n),a=function(e){var t=parseFloat(e.getAttribute("x")||0),n=parseFloat(e.getAttribute("y")||0),o=parseFloat(e.getAttribute("rx")||0),a=parseFloat(e.getAttribute("ry")||0),r=parseFloat(e.getAttribute("width")),i=parseFloat(e.getAttribute("height")),c=new oe.w;return c.moveTo(t+2*o,n),c.lineTo(t+r-2*o,n),0===o&&0===a||c.bezierCurveTo(t+r,n,t+r,n,t+r,n+2*a),c.lineTo(t+r,n+i-2*a),0===o&&0===a||c.bezierCurveTo(t+r,n+i,t+r,n+i,t+r-2*o,n+i),c.lineTo(t+2*o,n+i),0===o&&0===a||c.bezierCurveTo(t,n+i,t,n+i,t,n+i-2*a),c.lineTo(t,n+2*a),0===o&&0===a||c.bezierCurveTo(t,n,t,n,t+2*o,n),c}(t);break;case"polygon":n=c(t,n),a=function(e){var r=new oe.w,i=0;return e.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(e,t,n){var o=parseFloat(t),a=parseFloat(n);0===i?r.moveTo(o,a):r.lineTo(o,a),i++}),r.currentPath.autoClose=!0,r}(t);break;case"polyline":n=c(t,n),a=function(e){var r=new oe.w,i=0;return e.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(e,t,n){var o=parseFloat(t),a=parseFloat(n);0===i?r.moveTo(o,a):r.lineTo(o,a),i++}),r.currentPath.autoClose=!1,r}(t);break;case"circle":n=c(t,n),a=function(e){var t=parseFloat(e.getAttribute("cx")),n=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("r")),a=new oe.p;a.absarc(t,n,o,0,2*Math.PI);var r=new oe.w;return r.subPaths.push(a),r}(t);break;case"ellipse":n=c(t,n),a=function(e){var t=parseFloat(e.getAttribute("cx")),n=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("rx")),a=parseFloat(e.getAttribute("ry")),r=new oe.p;r.absellipse(t,n,o,a,0,2*Math.PI);var i=new oe.w;return i.subPaths.push(r),i}(t);break;case"line":n=c(t,n),a=function(e){var t=parseFloat(e.getAttribute("x1")),n=parseFloat(e.getAttribute("y1")),o=parseFloat(e.getAttribute("x2")),a=parseFloat(e.getAttribute("y2")),r=new oe.w;return r.moveTo(t,n),r.lineTo(o,a),r.currentPath.autoClose=!1,r}(t);break;default:console.log(t)}a&&(void 0!==n.fill&&"none"!==n.fill&&a.color.setStyle(n.fill),function(e,t){function n(e){m.set(e.x,e.y,1).applyMatrix3(t),e.set(m.x,m.y)}for(var o=function(e){return 0!==e.elements[1]||0!==e.elements[3]}(t),a=e.subPaths,r=0,i=a.length;r<i;r++)for(var c=a[r].curves,s=0;s<c.length;s++){var l=c[s];l.isLineCurve?(n(l.v1),n(l.v2)):l.isCubicBezierCurve?(n(l.v0),n(l.v1),n(l.v2),n(l.v3)):l.isQuadraticBezierCurve?(n(l.v0),n(l.v1),n(l.v2)):l.isEllipseCurve&&(o&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),d.set(l.aX,l.aY),n(d),l.aX=d.x,l.aY=d.y,l.xRadius*=(p=t.elements,Math.sqrt(p[0]*p[0]+p[1]*p[1])),l.yRadius*=(u=t.elements,Math.sqrt(u[3]*u[3]+u[4]*u[4])))}var u,p}(a,u),s.push(a),a.userData={node:t,style:n});for(var r=t.childNodes,i=0;i<r.length;i++)e(r[i],n);o&&(l.pop(),0<l.length?u.copy(l[l.length-1]):u.identity())}}(t.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4});var n={paths:s,xml:t.documentElement};return console.timeEnd("THREE.SVGLoader: Parse"),n}}),u.getStrokeStyle=function(e,t,n,o,a){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:n=void 0!==n?n:"miter",strokeLineCap:o=void 0!==o?o:"butt",strokeMiterLimit:a=void 0!==a?a:4}},u.pointsToStroke=function(e,t,n,o){var a=[],r=[],i=[];if(0===u.pointsToStrokeWithBuffers(e,t,n,o,a,r,i))return null;var c=new oe.a;return c.addAttribute("position",new oe.h(a,3)),c.addAttribute("normal",new oe.h(r,3)),c.addAttribute("uv",new oe.h(i,2)),c},u.pointsToStrokeWithBuffers=(Y=new oe.A,H=new oe.A,q=new oe.A,B=new oe.A,X=new oe.A,U=new oe.A,Z=new oe.A,G=new oe.A,W=new oe.A,J=new oe.A,K=new oe.A,Q=new oe.A,$=new oe.A,ee=new oe.A,te=new oe.A,ne=new oe.A,ae=new oe.A,function(e,c,l,r,s,o,a,t){l=void 0!==l?l:12,r=void 0!==r?r:.001,t=void 0!==t?t:0;var n=(e=function(e){for(var t=!1,n=1,o=e.length-1;n<o;n++)if(e[n].distanceTo(e[n+1])<r){t=!0;break}if(!t)return e;var a=[];for(a.push(e[0]),n=1,o=e.length-1;n<o;n++)e[n].distanceTo(e[n+1])>=r&&a.push(e[n]);return a.push(e[e.length-1]),a}(e)).length;if(n<2)return 0;var i,u,p,d,m,f=e[0].equals(e[n-1]),h=e[0],v=c.strokeWidth/2,y=1/(n-1),b=0,g=!1,x=0,w=3*t,M=2*t;C(e[0],e[1],Y).multiplyScalar(v),G.copy(e[0]).sub(Y),W.copy(e[0]).add(Y),J.copy(G),K.copy(W);for(var P=1;P<n;P++){i=e[P],u=P===n-1?f?e[1]:void 0:e[P+1];var A=Y;C(h,i,A),q.copy(A).multiplyScalar(v),Q.copy(i).sub(q),$.copy(i).add(q);var E=b+y;if(p=!1,void 0!==u){C(i,u,H),q.copy(H).multiplyScalar(v),ee.copy(i).sub(q),te.copy(i).add(q),d=!0,q.subVectors(u,h),A.dot(q)<0&&(d=!1),1===P&&(g=d),q.subVectors(u,i),q.normalize();var T=Math.abs(A.dot(q));if(0!==T){var k=v/T;q.multiplyScalar(-k),B.subVectors(i,h),X.copy(B).setLength(k).add(q),ne.copy(X).negate();var O=X.length(),_=B.length();B.divideScalar(_),U.subVectors(u,i);var L=U.length();switch(U.divideScalar(L),B.dot(ne)<_&&U.dot(ne)<L&&(p=!0),ae.copy(X).add(i),ne.add(i),m=!1,p?d?(te.copy(ne),$.copy(ne)):(ee.copy(ne),Q.copy(ne)):R(),c.strokeLineJoin){case"bevel":F(d,p,E);break;case"round":V(d,p),d?N(i,Q,ee,E,0):N(i,te,$,E,1);break;case"miter":case"miter-clip":default:var S=v*c.strokeMiterLimit/O;if(S<1){if("miter-clip"!==c.strokeLineJoin){F(d,p,E);break}V(d,p),d?(U.subVectors(ae,Q).multiplyScalar(S).add(Q),Z.subVectors(ae,ee).multiplyScalar(S).add(ee),D(Q,E,0),D(U,E,0),D(i,E,.5),D(i,E,.5),D(U,E,0),D(Z,E,0),D(i,E,.5),D(Z,E,0),D(ee,E,0)):(U.subVectors(ae,$).multiplyScalar(S).add($),Z.subVectors(ae,te).multiplyScalar(S).add(te),D($,E,1),D(U,E,1),D(i,E,.5),D(i,E,.5),D(U,E,1),D(Z,E,1),D(i,E,.5),D(Z,E,1),D(te,E,1))}else p?(d?(D(W,b,1),D(G,b,0),D(ae,E,0),D(W,b,1),D(ae,E,0),D(ne,E,1)):(D(W,b,1),D(G,b,0),D(ae,E,1),D(G,b,0),D(ne,E,0),D(ae,E,1)),d?ee.copy(ae):te.copy(ae)):d?(D(Q,E,0),D(ae,E,0),D(i,E,.5),D(i,E,.5),D(ae,E,0),D(ee,E,0)):(D($,E,1),D(ae,E,1),D(i,E,.5),D(i,E,.5),D(ae,E,1),D(te,E,1)),m=!0}}else R()}else R();f||P!==n-1||I(e[0],J,K,d,!0,b),b=E,h=i,G.copy(ee),W.copy(te)}if(f){if(p&&s){var z=ae,j=ne;g!==d&&(z=ne,j=ae),d?(j.toArray(s,0),j.toArray(s,9),m&&z.toArray(s,3)):(j.toArray(s,3),j.toArray(s,9),m&&z.toArray(s,0))}}else I(i,Q,$,d,!1,E);return x;function C(e,t,n){return n.subVectors(t,e),n.set(-n.y,n.x).normalize()}function D(e,t,n){s&&(s[w]=e.x,s[w+1]=e.y,s[w+2]=0,o&&(o[w]=0,o[w+1]=0,o[w+2]=1),w+=3,a&&(a[M]=t,a[M+1]=n,M+=2)),x+=3}function N(e,t,n,o,a){Y.copy(t).sub(e).normalize(),H.copy(n).sub(e).normalize();var r=Math.PI,i=Y.dot(H);Math.abs(i)<1&&(r=Math.abs(Math.acos(i))),r/=l,q.copy(t);for(var c=0,s=l-1;c<s;c++)B.copy(q).rotateAround(e,r),D(q,o,a),D(B,o,a),D(e,o,.5),q.copy(B);D(B,o,a),D(n,o,a),D(e,o,.5)}function R(){D(W,b,1),D(G,b,0),D(Q,E,0),D(W,b,1),D(Q,E,1),D($,E,0)}function F(e,t,n){t?(e?(D(W,b,1),D(G,b,0),D(Q,E,0),D(W,b,1),D(Q,E,0),D(ne,E,1),D(Q,n,0),D(ee,n,0)):(D(W,b,1),D(G,b,0),D($,E,1),D(G,b,0),D(ne,E,0),D($,E,1),D($,n,1),D(te,n,0)),D(ne,n,.5)):(e?(D(Q,n,0),D(ee,n,0)):(D($,n,1),D(te,n,0)),D(i,n,.5))}function V(e,t){t&&(e?(D(W,b,1),D(G,b,0),D(Q,E,0),D(W,b,1),D(Q,E,0),D(ne,E,1),D(Q,b,0),D(i,E,.5),D(ne,E,1),D(i,E,.5),D(ee,b,0),D(ne,E,1)):(D(W,b,1),D(G,b,0),D($,E,1),D(G,b,0),D(ne,E,0),D($,E,1),D($,b,1),D(ne,E,0),D(i,E,.5),D(i,E,.5),D(ne,E,0),D(te,b,1)))}function I(e,t,n,o,a,r){switch(c.strokeLineCap){case"round":a?N(e,n,t,r,.5):N(e,t,n,r,.5);break;case"square":if(a)Y.subVectors(t,e),H.set(Y.y,-Y.x),q.addVectors(Y,H).add(e),B.subVectors(H,Y).add(e),o?(q.toArray(s,3),B.toArray(s,0),B.toArray(s,9)):(q.toArray(s,3),q.toArray(s,9),B.toArray(s,0));else{Y.subVectors(n,e),H.set(Y.y,-Y.x),q.addVectors(Y,H).add(e),B.subVectors(H,Y).add(e);var i=s.length;o?(q.toArray(s,i-3),B.toArray(s,i-6)):(q.toArray(s,i-6),B.toArray(s,i-3)),B.toArray(s,i-12)}}}});var p=u;function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var n=new oe.r(2,2),o=new oe.z,a=o.load("public/earth/earth-day.jpg"),r=o.load("public/earth/earth-aux.jpg");a.wrapS=oe.u,r.wrapS=oe.u;var i=new oe.t({uniforms:{sunLightDir:{value:new oe.B},invViewMatrix:{value:new oe.n},scale:{value:e.scale},a_color:{value:e.atmosphere.color},a_brightness:{value:e.atmosphere.brightness},a_reflection:{value:e.atmosphere.reflection},a_ray:{value:e.atmosphere.ray},a_mie:{value:e.atmosphere.mie},a_spread:{value:e.atmosphere.spread},a_thick:{value:e.atmosphere.thick},a_test:{value:e.atmosphere.test},t_day:{type:"t",value:a},t_aux:{type:"t",value:r}},vertexShader:"precision highp float;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 invViewMatrix;\n\nuniform vec3 cameraPosition;\n\nuniform float scale;\n\nattribute vec3 position;\nvarying vec3 fragPos;\n\n// sPos : position of sphere in 2D, where the Y should be perpendicular to camera plane\n// s    : sign for either min or max of sphere on X axis of sPos\n// returns additional correction on X axis due to projection\nfloat perspectiveCorrect(vec2 sPos, float s) {\n    float l = sqrt(pow(sPos.y, 2.0) + pow(sPos.x, 2.0));\n    float a = asin(sPos.x / l);\n    float b = asin(scale / l) * s;\n    return ((scale / cos(a + b)) - scale) * s;\n}\n\nvoid main() {\n    /* \n       first we multiply the matrices together for positioning\n       then set rotation part to identity for a billboard effect\n       (where the render plane is always parallel with the near plane)\n    */\n    mat4 modelViewMatrix = viewMatrix * modelMatrix;\n\n    // first column\n    modelViewMatrix[0][0] = scale; \n    modelViewMatrix[0][1] = 0.0; \n    modelViewMatrix[0][2] = 0.0; \n\n    // second column\n    modelViewMatrix[1][0] = 0.0; \n    modelViewMatrix[1][1] = scale; \n    modelViewMatrix[1][2] = 0.0; \n\n    // third column\n    modelViewMatrix[2][0] = 0.0; \n    modelViewMatrix[2][1] = 0.0; \n    modelViewMatrix[2][2] = scale; \n\n    // position of render plane vertex relative to camera\n    vec4 viewPos = modelViewMatrix * vec4(position, 1);\n\n    // position of sphere center relative to camera\n    vec4 spherePos = viewMatrix * modelMatrix[3];\n\n    // extend plane sides for complete render of sphere\n    viewPos.x += perspectiveCorrect(spherePos.xz, position.x);\n    viewPos.y += perspectiveCorrect(spherePos.yz, position.y);\n\n    // forward world pos of vertex to fragment shader\n    fragPos = (invViewMatrix * viewPos).xyz;\n\n    // corner positions of plane\n    gl_Position = projectionMatrix * viewPos;\n}\n",fragmentShader:"precision highp float;\n\n// for neighbour fragment checking in globeTexture function\n#extension GL_OES_standard_derivatives : enable\n\n#define PI 3.14159265359\n#define MAX 10000\n#define ATMOS_MULTI 0.1\n#define SCALE_MULTI 6.0\n\nuniform mat4 modelMatrix;\nuniform mat4 invViewMatrix;\n\nuniform vec3 sunLightDir;\nuniform vec3 cameraPosition;\n\nuniform float scale;\n\n// atmosphere control variables\nuniform vec3 a_color;\nuniform float a_brightness;\nuniform float a_reflection;\nuniform float a_ray;\nuniform float a_mie;\nuniform float a_spread;\nuniform float a_thick;\nuniform float a_test;\n\n// globe textures\nuniform sampler2D t_day;\nuniform sampler2D t_aux;\n\n// position of quad fragment\nvarying vec3 fragPos;\n\n\n// functions\nvec2 sphere(vec3 origin, vec3 ray, float radius);\nvec3 globeTexture(vec3 normal, vec3 ray, vec3 lightDir);\nvec3 atmosphere(vec3 o, vec3 dir, vec2 e, vec3 l, vec2 diameters);\n\n\nvoid main() {\n    // diameter of globe\n    float d_inner = scale * .99;\n    //diameter of atmosphere\n    float d_outer = scale;\n\n    // out of screen ray\n    vec3 ray = normalize(cameraPosition - fragPos);\n\n    // atmosphere raycast\n    vec2 a_hit = sphere(cameraPosition, ray, d_outer);\n    if (a_hit.x > a_hit.y) {\n        // not even the atmosphere is hit, return transparent fragment\n        gl_FragColor = vec4(0);\n        return;\n    }\n\n    // final fragment color\n    vec3 color;\n\n    // globe raycast\n    vec2 g_hit = sphere(cameraPosition, ray, d_inner);\n    if (g_hit.x < g_hit.y) {\n        // calculate world normal\n        vec3 worldPos = (ray * g_hit.x);\n        vec3 normalDir = normalize(cameraPosition - worldPos);\n\n        // set color to globe texture\n        color = globeTexture(normalDir, ray, sunLightDir);\n    }\n\n    /* distances of ray vs sphere hits.\n       hits.x = a_hit.x , as the atmosphere is always hit first. \n       hits.y is either the ray hitting the globe or the ray exiting the atmosphere. */\n    vec2 hits = vec2(a_hit.x, min(g_hit.x, a_hit.y));\n\n    // add atmosphere\n    color += atmosphere(cameraPosition, ray, -hits, sunLightDir, vec2(d_inner, d_outer));\n\n    // TODO: clean up the transparent atmosphere in a function\n    // calculate world normal\n    vec3 worldPos = (ray * hits.x);\n    vec3 normalDir = normalize(cameraPosition - worldPos);\n\n    // transparent atmosphere\n    float t = min(1.0, 1.0 - dot(normalDir, ray) + 0.14);\n    t = pow(t, 5.);\n    t = 1. - t;\n    t = min(1., t * 5.);\n\n    gl_FragColor = vec4(color, t);\n}\n\n// ray intersects sphere\n// e = -b +/- sqrt( b^2 - c )\nvec2 sphere(vec3 origin, vec3 ray, float radius) {\n\tfloat b = dot(origin, ray);\n\tfloat c = dot(origin, origin) - radius * radius;\n\t\n\tfloat d = b * b - c;\n\tif (d < 0.0) {\n\t\treturn vec2(MAX, -MAX);\n\t}\n\td = sqrt(d);\n\treturn vec2(b - d, b + d);\n}\n\nvec2 uvMap(vec3 normalDir) {\n    // https://forum.unity.com/threads/what-is-this-mipmap-artifact.657052/\n    float t = atan(normalDir.x, normalDir.z) / (2.0 * PI);\n\n    float t_a = t + 0.5;\n    float t_b = fract(t + 1.0) - 0.5;\n    \n    return vec2(\n        t_a,\n        0.5 - asin(-normalDir.y) / PI\n    );\n\n    return vec2(\n        fwidth(t_a) < fwidth(t_b) ? t_a : t_b,\n        0.5 - asin(-normalDir.y) / PI\n    );\n}\n\nvec3 globeTexture(vec3 normalDir, vec3 ray, vec3 lightDir) {\n    vec2 uv = uvMap(normalDir);\n\n    // texture mapping\n    vec3 c_day = texture2D(t_day, uv).rgb;\n    vec3 c_aux = texture2D(t_aux, uv).rgb;\n    \n    // city lights\n    float lights = c_aux.r;\n    // water specularity\n    float specular = c_aux.g;\n    // cloud density\n    float cloud = c_aux.b;\n\n    // add clouds\n    c_day = mix(c_day, vec3(1), vec3(cloud * 1.1));\n\n    // lighting of earth\n    float shadow = max(0.01, dot(normalDir, lightDir));\n    c_day *= shadow;\n\n    // ideal reflection dir for water\n    vec3 reflectDir = reflect(-lightDir, normalDir);\n    \n    // TODO: optimize this bit\n    float reflectAmount = max(dot(ray, reflectDir), 0.0) * specular * .88;\n\n    reflectAmount = pow(reflectAmount, 10.);\n    c_day += vec3(reflectAmount);\n\n    c_day += lights * pow((1.0 - max(0., dot(lightDir, normalDir) + 0.2)), 5.0);\n\n\n    return c_day;\n}\n\n// Mie\n// g : ( -0.75, -0.999 )\n//      3 * ( 1 - g^2 )               1 + c^2\n// F = ----------------- * -------------------------------\n//      8PI * ( 2 + g^2 )     ( 1 + g^2 - 2 * g * c )^(3/2)\nfloat calcMiePhase(float g, float c, float cc) {\n\tfloat gg = g * g;\n\t\n\tfloat a = (1.0 - gg) * (1.0 + cc);\n\n\tfloat b = 1.0 + gg - 2.0 * g * c;\n\tb *= sqrt(b);\n\tb *= 2.0 + gg;\t\n\t\n\treturn (3.0 / 8.0 / PI) * a / b;\n}\n\n// Rayleigh\n// g : 0\n// F = 3/16PI * ( 1 + c^2 )\nfloat calcRayPhase(float cc) {\n\treturn (3.0 / 16.0 / PI) * (1.0 + cc);\n}\n\nfloat calcDensity(vec3 p, float d) {\n\treturn exp(max(length(p) - d, 0.0));\n}\n\nfloat calcOptic(vec3 v, vec3 u, float d) {\n\tvec3 s = (u - v);\n\tvec3 x = v + s;\n\treturn calcDensity(x, d) * length(s);\n}\n\nvec3 atmosphere(vec3 o, vec3 dir, vec2 e, vec3 l, vec2 diameters) {\n\t// distance traveled in atmosphere\n    float dist = (e.y - e.x) / (scale * SCALE_MULTI);\n    // traveled direction vector\n    vec3 s = -dir * dist;\n    // middle of traveled atmosphere vector in world space\n\tvec3 v = -o + -dir * (e.x + dist * 0.5);\n\n    // atmosphere density\n    float density = calcDensity(v, diameters.x) * dist;\n\n    float reflection = pow(-density * a_ray, a_thick);\n    float refraction = pow(-density * a_mie, a_test);\n\n    // amount of distance the light traveled in the atmosphere\n    vec2 f = sphere(v, l, diameters.y) * (a_spread / scale);\n    // position where the light enters the atmosphere\n    vec3 u = v - l * f.y;\n\n    float optic = calcOptic(v, u, diameters.x);\n    // globe lighting\n    float gLit = dot(dir, -l);\n\n    // slow fadeout on side\n    float fade = 0.7 + gLit * 0.8;\n\n    // atmosphere direct lighting\n    vec3 pos = normalize(o + dir * e.x);\n    float aLit = dot(l, pos) * 1.5;\n\n    // darken atmosphere on sides\n    reflection *= min(1.0, max(0.0, fade + aLit));\n\n    // atmosphere color\n    vec3 color = a_color * ATMOS_MULTI;\n\n    // red color grading\n    vec3 grading = exp(-optic * color - (refraction + optic));\n\n    // brightness adjustment\n\tfloat gg = gLit * gLit;\n    vec3 ray = reflection * grading * color * calcRayPhase(gg);\n    vec3 mie = refraction * grading * calcMiePhase(a_reflection, gLit, gg);\n\n\treturn a_brightness * (ray + mie);\n}\n",transparent:!0});return h(f(t=function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?f(e):t}(this,m(c).call(this,n,i))),"setSunDir",function(e){t.material.uniforms.sunLightDir.value=e}),h(f(t),"loadBorders",function(e){(new p).load(e,function(e){for(var t=new oe.i,n=e.xml.width.animVal.value,o=e.xml.height.animVal.value,a=new oe.t({vertexShader:"precision highp float;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\nvoid main() {\n    gl_Position = projectionMatrix * viewMatrix * vec4(position, 1);\n}\n",fragmentShader:"precision highp float;\n\nvoid main() {\n    gl_FragColor = vec4(1);\n}\n"}),r=0;r<e.paths.length;r++){for(var i=e.paths[r],c=[],s=0;s<i.subPaths.length;s++)for(var l=i.subPaths[s].getPoints(),u=0;u<l.length;u++){var p=l[u],d=Math.PI-(p.x/n-.5)*Math.PI*2-Math.PI/2,m=-(p.y/o-.5)*Math.PI*.962-.055;c.push(Math.cos(m)*Math.cos(d)/1.02,Math.sin(m)/1.02,Math.cos(m)*Math.sin(d)/1.02)}var f=(new oe.a).addAttribute("position",new oe.h(c,3)),h=new oe.j(f,a);h.frustumCulled=!1,t.add(h)}this.add(t)}.bind(f(t)),function(e){console.log("loading...")},function(e){console.error(e)})}),t.onBeforeRender=function(e,t,n,o,a){a.uniforms.invViewMatrix.value=n.matrixWorld},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(c,oe["o"]),c}(),i=n("yVZF"),c=n.n(i);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(){function a(){var r,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=new oe.r(1,1),o=new oe.t({uniforms:{invViewMatrix:{value:new oe.n}},vertexShader:"precision highp float;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\nvarying vec2 uv;\n\n\nvoid main() {\n    uv = position.xy;\n\n    mat4 modelViewMatrix = viewMatrix * modelMatrix;\n\n    // first column\n    modelViewMatrix[0][0] = modelMatrix[0][0]; \n    modelViewMatrix[0][1] = 0.0; \n    modelViewMatrix[0][2] = 0.0; \n\n    // second column\n    modelViewMatrix[1][0] = 0.0; \n    modelViewMatrix[1][1] = modelMatrix[1][1]; \n    modelViewMatrix[1][2] = 0.0; \n\n    // third column\n    modelViewMatrix[2][0] = 0.0; \n    modelViewMatrix[2][1] = 0.0; \n    modelViewMatrix[2][2] = modelMatrix[2][2]; \n\n    // position of render plane vertex relative to camera\n    vec4 viewPos = modelViewMatrix * vec4(position, 1);\n\n    gl_Position =  projectionMatrix * modelViewMatrix * vec4(position, 1);\n}\n",fragmentShader:"precision highp float;\n\nuniform vec3 cameraPosition;\nvarying vec2 uv;\nuniform float scale;\n\n\nvoid main() {\n        // gl_FragColor = vec4(1);\n\n        float fade1 = 1. - distance(uv, vec2(0)) * 20.;\n        float fade2 = 1. - distance(uv, vec2(0)) * 1.5;\n\n        fade1 = max(0.0, min(1.0, fade1));\n        fade1 *= 2.5;\n        fade1 = pow(fade1, 3.0);\n\n        fade2 = max(0.0, min(1.0, fade2));\n        fade2 *= 0.4;\n        fade2 = pow(fade2, 2.5);\n\n        // float test = fade1;\n\n        float alpha = fade1 + fade2;\n        vec3 color = mix(vec3(1, .6, .3), vec3(1), fade2 * 4.0 + fade1 * .7);\n\n        // color *= fade1 * 1.;\n\n        // color = min(vec3(1), color);\n\n        gl_FragColor = vec4(color, alpha);\n}\n",transparent:!0});return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(g(r=function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?g(e):t}(this,b(a).call(this,n,o))),"SetPosition",function(e,t){var n=c.a.getPosition(e,90,0),o=(new oe.s).setFromEuler(new oe.e(-n.altitude,-n.azimuth,0)),a=new oe.B(0,0,1).applyQuaternion(o);r.position.copy(new oe.B(0,1,0)),r.position.copy(a.clone().multiplyScalar(.5*t*11694)),r.dir=a}),r.SetPosition(e,t),r.scale.copy(new oe.B(1,1,1).multiplyScalar(109.17*t*60)),r.frustumCulled=!1,r.onBeforeRender=function(e,t,n,o,a){a.uniforms.invViewMatrix.value=n.matrixWorld},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,oe["o"]),a}();function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=n("orRV");new function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"start",function(){o.state.looping=!0,o.state.clock.start(),function e(t){if(t.looping){for(var n=t.clock.getDelta(),o=0;o<t.updateables.length;o++)t.updateables[o](n);t.renderer.render(t.scene,t.camera),requestAnimationFrame(e.bind(null,t))}}(o.state)}),M(this,"stop",function(){o.state.looping=!1,o.state.clock.stop()}),t.onmouseout=function(){console.log("no")};var a=function(e,t){var n=new oe.v,o=new oe.q(t.camera.fov,window.innerWidth/window.innerHeight,t.camera.near,t.camera.far);o.position.set(0,0,t.camera.controls.distance.start);var a=new oe.C({canvas:e,antialias:!1});a.setClearColor(new oe.c("black")),a.setPixelRatio(window.devicePixelRatio),window.addEventListener("resize",function(e,t){var n=t.domElement,o=n.clientWidth,a=n.clientHeight;e.aspect=o/a,e.updateProjectionMatrix(),t.setSize(n.clientWidth,n.clientHeight,!1)}.bind(null,o,a),!1),window.dispatchEvent(new Event("resize"));var r=new s(o,e,t.camera.controls);return{scene:n,clock:new oe.b(!1),controls:r,renderer:a,camera:o,updateables:[r.update],looping:!1}}(t,n),r=new l(document.body);a.updateables.push(r.record);var i=new w(Date.now());a.scene.add(i);var c=new v(n.globe);a.scene.add(c),c.setSunDir(i.dir),a.scene.background=function(e,t){var n=1<arguments.length&&void 0!==t?t:1e3,o=new oe.r(2,2),a=new oe.t({vertexShader:"precision highp float;\n\nuniform mat4 viewMatrix;\n\nattribute vec3 position;\nvarying vec3 fragPos;\n\nvoid main() {\n    fragPos = (viewMatrix * vec4(-position.x, position.y, 1, 0)).xyz;\n    gl_Position = vec4(position.xy, 1, 1);\n}\n",fragmentShader:"precision highp float;\n\nvarying vec3 fragPos;\n\nfloat snoise(vec3 v);\n\n\nvoid main() {\n    vec3 dir = normalize(fragPos) * 1000.0;\n    float lit = 0.1 + snoise(dir);\n\n    lit = pow(lit, 15.0);\n\n    vec3 color = vec3(lit);\n    gl_FragColor = vec4(color, 1);\n}\n\n\n//\tSimplex 3D Noise \n//\tby Ian McEwan, Ashima Arts\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\nfloat snoise(vec3 v){ \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //  x0 = x0 - 0. + 0.0 * C \n  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n// Permutations\n  i = mod(i, 289.0 ); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients\n// ( N*N points uniformly over a square, mapped onto an octahedron.)\n  float n_ = 1.0/7.0; // N=7\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n}\n"}),r=new oe.o(o,a);r.frustumCulled=!1;var i=new oe.v;i.add(r);var c=new oe.d(.1,20,n);return c.update(e,i),a.dispose(),o.dispose(),c.renderTarget}(a.renderer,1500),a.objects={globe:c,sun:i},this.state=a}(document.getElementById("globe"),P).start();var A=document.getElementById("fullscreen"),E=document.getElementsByTagName("header")[0];A.onclick=function(e){var t=document.webkitIsFullScreen||document.mozFullScreen||!1;e.requestFullScreen=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||function(){return!1},document.cancelFullScreen=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||function(){return!1},t?document.cancelFullScreen():e.requestFullScreen(),this.innerHTML=t?"fullscreen":"fullscreen_exit"}.bind(A,E)}},[["tjUo",5,1,2,3,4]]]);