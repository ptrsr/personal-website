(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"93cA":function(n,e,t){n.exports=t.p+"c37b97b969656107e679d7ad8ef77a79.woff"},J6RI:function(n,e,t){e=n.exports=t("JPst")(!1);var o=t("HeW1"),r=o(t("aZUD")),i=o(t("93cA")),a=o(t("cEfc"));e.push([n.i,'\n/* COLOR PALETTE */\n:root {\n    --GR1: #191a1d;\n    --GR2: #202124;\n    --GR3: #2d2e30;\n    --GR4: #3f4042;\n    --GR5: #d9d9d9;\n}\n\n/* GLOBAL */\nbody {\n    margin: 0;\n    background-color: var(--GR1);\n}\n\n#globe {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: -1;\n}\n\n/* FONTS */\n@font-face {\n    font-family: "din";\n    src: url('+r+") format('woff');\n}\n@font-face {\n    font-family: \"din\";\n    src: url("+i+") format('woff');\n    font-weight: bold;\n}\n@font-face {\n    font-family: \"din\";\n    src: url("+a+") format('woff');\n    font-style: italic;\n}\n* { font-family: \"din\" }\n\n/* HEADER */\nheader {\n    color: var(--GR5);\n    font-weight: bold;\n    width: 100%;\n    height: 95%;\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: -1;\n}\nheader .main {\n    margin: auto;\n    margin-left: 2%;\n    width: 46%;\n    padding-top: 5%;\n}\nheader .pretitle {\n    font-size: 4em;\n}\nheader .title {\n    font-size: 7em;\n}\n\n/* SECTIONS */\nsection {\n    width: 100%;\n    height: 95%;\n}\n\nsection h1 {\n    padding-top: 0.5em;\n    margin-top: 0;\n    font-size: 5em;\n    text-align: center;\n}\n\n/* NAV */\nnav {\n    width: 100%;\n    height: 5%;\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    background-color: var(--GR5);\n}\n\n.dark {\n    color: var(--GR5);\n    background-color: var(--GR1);\n}\n.gray {\n    color: var(--GR5);\n    background-color: var(--GR4);\n}\n.white {\n    color: var(--GR2);\n    background-color: var(--GR5);\n}\n\n\n.test {\n    position: relative;\n}",""])},OMi8:function(n,e,t){var o=t("J6RI");"string"==typeof o&&(o=[[n.i,o,""]]);var r={insert:"head",singleton:!1};t("LboF")(o,r);o.locals&&(n.exports=o.locals)},aZUD:function(n,e,t){n.exports=t.p+"7d2271b97e1fc197a8410ec269814cbc.woff"},cEfc:function(n,e,t){n.exports=t.p+"e6713781e2b16fe3b5fafd8117433ee4.woff"},tjUo:function(n,e,t){"use strict";t.r(e);t("OMi8");var f=t("Womt");function p(n){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function m(n){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function u(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function o(n,e){return(o=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}var c=function(){function d(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);var t=new f.a;t.addAttribute("vertexPos",new f.d([1,1,0,-1,1,0,1,-1,0,-1,-1,0],3)),t.setIndex([0,1,2,1,3,2]);var o=(new f.k).load("assets/earth/day-map1.jpg"),r=(new f.k).load("assets/earth/day-map2.jpg"),i=(new f.k).load("assets/earth/normal-map1.jpg"),a=(new f.k).load("assets/earth/normal-map2.jpg"),c=(new f.k).load("assets/earth/combined-map1.jpg"),s=(new f.k).load("assets/earth/combined-map2.jpg"),l=new f.i({uniforms:{invViewMatrix:{value:new f.e},size:{value:1},dayMap1:{type:"t",value:o},dayMap2:{type:"t",value:r},normalMap1:{type:"t",value:i},normalMap2:{type:"t",value:a},combinedMap1:{type:"t",value:c},combinedMap2:{type:"t",value:s}},vertexShader:"precision highp float;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 invViewMatrix;\n\nuniform vec3 cameraPosition;\n\nuniform float size;\n\nattribute vec3 vertexPos;\nvarying vec3 worldPos;\n\n// sPos : position of sphere in 2D, where the Y should be perpendicular to camera plane\n// s    : sign for either min or max of sphere on X axis of sPos\n// returns additional correction on X axis due to projection\nfloat perspectiveCorrect(vec2 sPos, float s) {\n    float l = sqrt(pow(sPos.y, 2.0) + pow(sPos.x, 2.0));\n    float a = asin(sPos.x / l);\n    float b = asin(size / l) * s;\n    return ((size / cos(a + b)) - size) * s;\n}\n\nvoid main() {\n    /* \n       first we multiply the matrices together for positioning\n       then set rotation part to identity for a billboard effect\n       (where the render plane is always parallel with the near plane)\n    */\n    mat4 modelViewMatrix = viewMatrix * modelMatrix;\n\n    // first column\n    modelViewMatrix[0][0] = 1.0; \n    modelViewMatrix[0][1] = 0.0; \n    modelViewMatrix[0][2] = 0.0; \n\n    // second column\n    modelViewMatrix[1][0] = 0.0; \n    modelViewMatrix[1][1] = 1.0; \n    modelViewMatrix[1][2] = 0.0; \n\n    // third column\n    modelViewMatrix[2][0] = 0.0; \n    modelViewMatrix[2][1] = 0.0; \n    modelViewMatrix[2][2] = 1.0; \n\n    // position of render plane vertex relative to camera\n    vec4 viewPos = modelViewMatrix * vec4(vertexPos, 1);\n\n    // position of sphere center relative to camera\n    vec4 spherePos = viewMatrix * modelMatrix[3];\n\n    // extend plane sides for complete render of sphere\n    viewPos.x += perspectiveCorrect(spherePos.xz, vertexPos.x);\n    viewPos.y += perspectiveCorrect(spherePos.yz, vertexPos.y);\n\n    // forward world pos of vertex to fragment shader\n    worldPos = (invViewMatrix * viewPos).xyz;\n\n    gl_Position = projectionMatrix * viewPos;\n}\n",fragmentShader:"precision highp float;\n\n#define light normalize(vec3(0.5, 0.5, 1))\n#define pi 3.14159265359\n\nuniform vec3 cameraPosition;\nuniform float size;\nuniform mat4 invViewMatrix;\nuniform mat4 modelMatrix;\n\nuniform sampler2D dayMap1;\nuniform sampler2D dayMap2;\n\nuniform sampler2D normalMap1;\nuniform sampler2D normalMap2;\n\nuniform sampler2D combinedMap1;\nuniform sampler2D combinedMap2;\n\nvarying vec3 worldPos;\n\nbool Sphere(vec3 ray, vec3 pos, float radius, out vec2 dist);\nvec3 MapUV(vec3 normal, vec3 ray);\n\nvoid main() {\n    vec3 ray = normalize(cameraPosition - worldPos);\n\n    vec2 test;\n    if (Sphere(ray, cameraPosition, size, test)) {\n\n        vec3 iPos = (ray * test.x);\n        vec3 iNormal = normalize(cameraPosition - iPos);\n\n        vec3 color = MapUV(iNormal, ray);\n\n        float lit = max(0.0, dot(iNormal, light));\n\n\n        gl_FragColor = vec4(color, 1);\n\n        return;\n    }\n\n    gl_FragColor = vec4(vec3(0), 1);\n}\n\nbool Sphere(vec3 ray, vec3 pos, float radius, out vec2 dist) {\n    dist = vec2(0, 0);\n    vec2 t;\n    vec3 L = -pos;\n\n    float a = dot(ray, ray);\n    float b = 2.0 * dot(ray, L);\n    float c = dot(L, L) - pow(radius, 2.0);\n\n    float discr = b * b - 4.0 * a * c;\n\n    if (discr < 0.0) {\n        return false;\n    } else if (discr == 0.0)\n    {\n        t.x = (-0.5 * b) / a;\n        t.y = t.x;\n    } else {\n        float q = b > 0.0 ?\n            -0.5 * (b + sqrt(discr)) :\n        -0.5 * (b - sqrt(discr));\n\n        t = vec2(q / a, c / q);\n    }\n\n    if (t.x > t.y) {\n        t = t.yx;\n    }\n    dist = t;\n    return true;\n}\n\nvec3 MapUV(vec3 normal, vec3 ray) {\n    vec2 uv = vec2(\n        0.5 + atan(normal.z, -normal.x) / (pi * 2.0),\n        0.5 - asin(-normal.y) / pi\n    );\n\n    // divide world uv for 2 textures\n    vec4 fUV = vec4(\n        vec2(uv.x * 2.0 - 1.0, uv.y),\n        vec2((uv.x * 2.0), uv.y)\n    );\n\n    // texture mapping\n    vec3 map;\n    vec3 nmap;\n\n    float specular = 0.0;\n    float cloud = 0.0;\n    float lit = 0.0;\n\n    if (uv.x > 0.5) {\n        map = texture2D(dayMap1, fUV.xy).rgb;\n        nmap = texture2D(normalMap1, fUV.xy).rgb;\n\n        vec3 combined = texture2D(combinedMap1, fUV.xy).rgb;\n        specular = combined.r;\n        cloud = combined.g;\n        lit = combined.b;\n    } else {\n        map = texture2D(dayMap2, fUV.zw).rgb;\n        nmap = texture2D(normalMap2, fUV.zw).rgb;\n\n        vec3 combined = texture2D(combinedMap2, fUV.zw).rgb;\n        specular = combined.r;\n        cloud = combined.g;\n        lit = combined.b;\n    }\n\n    nmap = nmap * 2.0 - 1.0;\n\n    vec3 color = map.xyz;\n\n    // for a stable light\n    vec3 lightTest = (invViewMatrix * vec4(light, 0)).rgb;\n\n    // reflection of water\n    vec3 reflectDir = reflect(-lightTest, normal);\n    float r = pow(max(dot(ray, reflectDir), 0.0), 6.0) * specular;\n\n    color += vec3(r) / 1.5;\n\n    // clouds\n    color = mix(color, vec3(1), vec3(cloud));\n\n    // normal mapping\n    mat4 modelCopy = modelMatrix;\n    modelCopy[3][3] = 0.0;\n\n    vec3 npole = (modelCopy * vec4(0, 1, 0, 0)).xyz;\n    vec3 tangent = cross(normal, npole);\n    vec3 biTangent = -cross(tangent, normal);\n\n    mat3 tbn;\n    tbn[0] = tangent;\n    tbn[1] = biTangent;\n    tbn[2] = normal;\n\n    nmap.xy *= 2.0;\n    nmap = normalize(nmap);\n\n    vec3 test = tbn * nmap;\n\n    // lighting of earth\n    float shadow = max(0.0, dot(test, lightTest));\n    color *= shadow;\n\n\n\n    return color;\n}"});return function(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(u(e=function(n,e){return!e||"object"!==p(e)&&"function"!=typeof e?u(n):e}(this,m(d).call(this,t,l))),"setSphereSize",function(n){e.material.uniforms.size.value=n}),e.size=n,e.onBeforeRender=function(n,e,t,o,r){r.uniforms.invViewMatrix.value=t.matrixWorld},e}return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&o(n,e)}(d,f["f"]),d}();function s(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}new function n(e){var o=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,"loop",function(n,e){var t=n.getDelta();o.objc.rotateY(t/3),o.renderer.render(o.scene,o.camera),requestAnimationFrame(o.loop.bind(null,n,e))}),s(this,"onWindowResize",function(){var n=o.renderer.domElement,e=(window.devicePixelRatio,n.clientWidth),t=n.clientHeight;o.camera.aspect=e/t,o.camera.updateProjectionMatrix(),o.renderer.setSize(n.clientWidth,n.clientHeight,!1)}),this.scene=new f.j,this.camera=new f.h(20,window.innerWidth/window.innerHeight,.1,1e3),this.objc=new f.g;var t=new f.g;this.scene.add(this.objc),t.position.z=10,this.objc.add(t),t.add(this.camera);var r=new c;this.scene.add(r),r.setSphereSize(1),this.renderer=new f.l({canvas:e}),this.renderer.setClearColor(new f.c("black")),this.onWindowResize();var i=new f.b(!0),a=document.getElementById("fps");this.loop(i,a),window.addEventListener("resize",this.onWindowResize,!1)}(document.getElementById("globe"))}},[["tjUo",4,1,2,3]]]);