(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"93cA":function(e,t,n){e.exports=n.p+"c37b97b969656107e679d7ad8ef77a79.woff"},J6RI:function(e,t,n){t=e.exports=n("JPst")(!1);var o=n("HeW1"),a=o(n("aZUD")),r=o(n("93cA")),i=o(n("cEfc"));t.push([e.i,'\n/* COLOR PALETTE */\n:root {\n    --GR1: #191a1d;\n    --GR2: #202124;\n    --GR3: #2d2e30;\n    --GR4: #3f4042;\n    --GR5: #d9d9d9;\n}\n\n/* GLOBAL */\nbody {\n    margin: 0;\n    background-color: var(--GR1);\n}\n\n\n\n.material-icons {\n    position: relative;\n    z-index: 1;\n}\n\n#globe {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    overflow: visible;\n    z-index: 0;\n}\n\n/* FONTS */\n@font-face {\n    font-family: "din";\n    src: url('+a+") format('woff');\n}\n@font-face {\n    font-family: \"din\";\n    src: url("+r+") format('woff');\n    font-weight: bold;\n}\n@font-face {\n    font-family: \"din\";\n    src: url("+i+") format('woff');\n    font-style: italic;\n}\n* { font-family: \"din\" }\n\n/* HEADER */\nheader {\n\n}\n",""])},OMi8:function(e,t,n){var o=n("J6RI");"string"==typeof o&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};n("LboF")(o,a);o.locals&&(e.exports=o.locals)},aZUD:function(e,t,n){e.exports=n.p+"7d2271b97e1fc197a8410ec269814cbc.woff"},cEfc:function(e,t,n){e.exports=n.p+"e6713781e2b16fe3b5fafd8117433ee4.woff"},orRV:function(e){e.exports=JSON.parse('{"test":32,"toplel":"yes","camera":{"fov":40,"near":0.1,"far":10000},"controls":{"distance":{"min":2,"max":5},"damping":0.05,"rotateSpeed":0.02},"globe":{}}')},tjUo:function(e,t,n){"use strict";n.r(t);n("OMi8");function o(e,t,n){var o,a,r,i,c;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new oe.B,this.minDistance=n.distance.min,this.maxDistance=n.distance.max,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=Boolean(n.damping),this.dampingFactor=n.damping,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=n.rotateSpeed,this.enablePan=!1,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:oe.l.ROTATE,MIDDLE:oe.l.DOLLY,RIGHT:oe.l.PAN},this.touches={ONE:oe.y.ROTATE,TWO:oe.y.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=function(){s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),s.dispatchEvent(l),s.update(),d=m.NONE},this.update=(o=new oe.B,a=(new oe.s).setFromUnitVectors(e.up,new oe.B(0,1,0)),r=a.clone().inverse(),i=new oe.B,c=new oe.s,function(){var e=s.object.position;return o.copy(e).sub(s.target),o.applyQuaternion(a),h.setFromVector3(o),s.autoRotate&&d===m.NONE&&S(2*Math.PI/60/60*s.autoRotateSpeed),s.enableDamping?(h.theta+=v.theta*s.dampingFactor,h.phi+=v.phi*s.dampingFactor):(h.theta+=v.theta,h.phi+=v.phi),h.theta=Math.max(s.minAzimuthAngle,Math.min(s.maxAzimuthAngle,h.theta)),h.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=y,h.radius=Math.max(s.minDistance,Math.min(s.maxDistance,h.radius)),!0===s.enableDamping?s.target.addScaledVector(b,s.dampingFactor):s.target.add(b),o.setFromSpherical(h),o.applyQuaternion(r),e.copy(s.target).add(o),s.object.lookAt(s.target),!0===s.enableDamping?(v.theta*=1-s.dampingFactor,v.phi*=1-s.dampingFactor,b.multiplyScalar(1-s.dampingFactor)):(v.set(0,0,0),b.set(0,0,0)),y=1,!(!(x||i.distanceToSquared(s.object.position)>f||8*(1-c.dot(s.object.quaternion))>f)||(s.dispatchEvent(l),i.copy(s.object.position),c.copy(s.object.quaternion),x=!1))}),this.dispose=function(){s.domElement.removeEventListener("contextmenu",ne,!1),s.domElement.removeEventListener("mousedown",Z,!1),s.domElement.removeEventListener("wheel",K,!1),s.domElement.removeEventListener("touchstart",$,!1),s.domElement.removeEventListener("touchend",te,!1),s.domElement.removeEventListener("touchmove",ee,!1),document.removeEventListener("mousemove",W,!1),document.removeEventListener("mouseup",J,!1),window.removeEventListener("keydown",Q,!1)};var s=this,l={type:"change"},u={type:"start"},p={type:"end"},m={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},d=m.NONE,f=1e-6,h=new oe.x,v=new oe.x,y=1,b=new oe.B,x=!1,g=new oe.A,w=new oe.A,M=new oe.A,P=new oe.A,A=new oe.A,T=new oe.A,E=new oe.A,O=new oe.A,k=new oe.A;function _(){return Math.pow(.95,s.zoomSpeed)}function S(e){v.theta-=e}function L(e){v.phi-=e}var C,D,j,z=(C=new oe.B,function(e,t){C.setFromMatrixColumn(t,0),C.multiplyScalar(-e),b.add(C)}),R=(D=new oe.B,function(e,t){!0===s.screenSpacePanning?D.setFromMatrixColumn(t,1):(D.setFromMatrixColumn(t,0),D.crossVectors(s.object.up,D)),D.multiplyScalar(e),b.add(D)}),N=(j=new oe.B,function(e,t){var n=s.domElement===document?s.domElement.body:s.domElement;if(s.object.isPerspectiveCamera){var o=s.object.position;j.copy(o).sub(s.target);var a=j.length();a*=Math.tan(s.object.fov/2*Math.PI/180),z(2*e*a/n.clientHeight,s.object.matrix),R(2*t*a/n.clientHeight,s.object.matrix)}else s.object.isOrthographicCamera?(z(e*(s.object.right-s.object.left)/s.object.zoom/n.clientWidth,s.object.matrix),R(t*(s.object.top-s.object.bottom)/s.object.zoom/n.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)});function V(e){s.object.isPerspectiveCamera?y/=e:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom*e)),s.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function H(e){s.object.isPerspectiveCamera?y*=e:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/e)),s.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function I(e){g.set(e.clientX,e.clientY)}function F(e){P.set(e.clientX,e.clientY)}function Y(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,n)}}function U(e){if(1==e.touches.length)P.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);P.set(t,n)}}function B(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);E.set(0,o)}function X(e){if(1==e.touches.length)w.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);w.set(t,n)}M.subVectors(w,g).multiplyScalar(s.rotateSpeed);var o=s.domElement===document?s.domElement.body:s.domElement;S(2*Math.PI*M.x/o.clientHeight),L(2*Math.PI*M.y/o.clientHeight),g.copy(w)}function q(e){if(1==e.touches.length)A.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);A.set(t,n)}T.subVectors(A,P).multiplyScalar(s.panSpeed),N(T.x,T.y),P.copy(A)}function G(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);O.set(0,o),k.set(0,Math.pow(O.y/E.y,s.zoomSpeed)),V(k.y),E.copy(O)}function Z(e){if(!1!==s.enabled){switch(s.domElement.focus?s.domElement.focus():window.focus(),e.button){case 0:switch(s.mouseButtons.LEFT){case oe.l.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===s.enablePan)return;F(e),d=m.PAN}else{if(!1===s.enableRotate)return;I(e),d=m.ROTATE}break;case oe.l.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===s.enableRotate)return;I(e),d=m.ROTATE}else{if(!1===s.enablePan)return;F(e),d=m.PAN}break;default:d=m.NONE}break;case 1:switch(s.mouseButtons.MIDDLE){case oe.l.DOLLY:if(!1===s.enableZoom)return;!function(e){E.set(e.clientX,e.clientY)}(e),d=m.DOLLY;break;default:d=m.NONE}break;case 2:switch(s.mouseButtons.RIGHT){case oe.l.ROTATE:if(!1===s.enableRotate)return;I(e),d=m.ROTATE;break;case oe.l.PAN:if(!1===s.enablePan)return;F(e),d=m.PAN;break;default:d=m.NONE}}d!==m.NONE&&(document.addEventListener("mousemove",W,!1),document.addEventListener("mouseup",J,!1),s.dispatchEvent(u))}}function W(e){if(!1!==s.enabled)switch(e.preventDefault(),d){case m.ROTATE:if(!1===s.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),M.subVectors(w,g).multiplyScalar(s.rotateSpeed);var t=s.domElement===document?s.domElement.body:s.domElement;S(2*Math.PI*M.x/t.clientHeight),L(2*Math.PI*M.y/t.clientHeight),g.copy(w),s.update()}(e);break;case m.DOLLY:if(!1===s.enableZoom)return;!function(e){O.set(e.clientX,e.clientY),k.subVectors(O,E),0<k.y?V(_()):k.y<0&&H(_()),E.copy(O),s.update()}(e);break;case m.PAN:if(!1===s.enablePan)return;!function(e){A.set(e.clientX,e.clientY),T.subVectors(A,P).multiplyScalar(s.panSpeed),N(T.x,T.y),P.copy(A),s.update()}(e)}}function J(e){!1!==s.enabled&&(document.removeEventListener("mousemove",W,!1),document.removeEventListener("mouseup",J,!1),s.dispatchEvent(p),d=m.NONE)}function K(e){!1===s.enabled||!1===s.enableZoom||d!==m.NONE&&d!==m.ROTATE||(e.preventDefault(),e.stopPropagation(),s.dispatchEvent(u),function(e){e.deltaY<0?H(_()):0<e.deltaY&&V(_()),s.update()}(e),s.dispatchEvent(p))}function Q(e){!1!==s.enabled&&!1!==s.enableKeys&&!1!==s.enablePan&&function(e){var t=!1;switch(e.keyCode){case s.keys.UP:N(0,s.keyPanSpeed),t=!0;break;case s.keys.BOTTOM:N(0,-s.keyPanSpeed),t=!0;break;case s.keys.LEFT:N(s.keyPanSpeed,0),t=!0;break;case s.keys.RIGHT:N(-s.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),s.update())}(e)}function $(e){if(!1!==s.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(s.touches.ONE){case oe.y.ROTATE:if(!1===s.enableRotate)return;Y(e),d=m.TOUCH_ROTATE;break;case oe.y.PAN:if(!1===s.enablePan)return;U(e),d=m.TOUCH_PAN;break;default:d=m.NONE}break;case 2:switch(s.touches.TWO){case oe.y.DOLLY_PAN:if(!1===s.enableZoom&&!1===s.enablePan)return;!function(e){s.enableZoom&&B(e),s.enablePan&&U(e)}(e),d=m.TOUCH_DOLLY_PAN;break;case oe.y.DOLLY_ROTATE:if(!1===s.enableZoom&&!1===s.enableRotate)return;!function(e){s.enableZoom&&B(e),s.enableRotate&&Y(e)}(e),d=m.TOUCH_DOLLY_ROTATE;break;default:d=m.NONE}break;default:d=m.NONE}d!==m.NONE&&s.dispatchEvent(u)}}function ee(e){if(!1!==s.enabled)switch(e.preventDefault(),e.stopPropagation(),d){case m.TOUCH_ROTATE:if(!1===s.enableRotate)return;X(e),s.update();break;case m.TOUCH_PAN:if(!1===s.enablePan)return;q(e),s.update();break;case m.TOUCH_DOLLY_PAN:if(!1===s.enableZoom&&!1===s.enablePan)return;!function(e){s.enableZoom&&G(e),s.enablePan&&q(e)}(e),s.update();break;case m.TOUCH_DOLLY_ROTATE:if(!1===s.enableZoom&&!1===s.enableRotate)return;!function(e){s.enableZoom&&G(e),s.enableRotate&&X(e)}(e),s.update();break;default:d=m.NONE}}function te(e){!1!==s.enabled&&(s.dispatchEvent(p),d=m.NONE)}function ne(e){!1!==s.enabled&&e.preventDefault()}s.domElement.addEventListener("contextmenu",ne,!1),s.domElement.addEventListener("mousedown",Z,!1),s.domElement.addEventListener("wheel",K,!1),s.domElement.addEventListener("touchstart",$,!1),s.domElement.addEventListener("touchend",te,!1),s.domElement.addEventListener("touchmove",ee,!1),window.addEventListener("keydown",Q,!1),this.update()}var oe=n("Womt");(o.prototype=Object.create(oe.f.prototype)).constructor=o;function a(e,t){o.call(this,e,t),this.mouseButtons.LEFT=oe.l.PAN,this.mouseButtons.RIGHT=oe.l.ROTATE,this.touches.ONE=oe.y.PAN,this.touches.TWO=oe.y.DOLLY_ROTATE}(a.prototype=Object.create(oe.f.prototype)).constructor=a;var s=o;function l(e){var r=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:60;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"record",function(e){if(r.samples.length>r.sampleCount&&r.samples.shift(),r.samples.push(e),r.lastUpdate+=e,!(r.lastUpdate<.1)){r.lastUpdate%=.1;for(var t=0,n=0;n<r.samples.length;n++)t+=r.samples[n];var o=1/(t/r.samples.length),a=parseInt(o);r.element.innerHTML="".concat(a)}});var n=document.createElement("div");n.innerHTML="0",n.style.color="white",e.appendChild(n),this.sampleCount=t,this.element=n,this.samples=[],this.lastUpdate=0}function u(e){oe.k.call(this,e)}var F,Y,U,B,X,q,G,Z,W,J,K,Q,$,ee,te,ne,ae;u.prototype=Object.assign(Object.create(oe.k.prototype),{constructor:u,load:function(e,t,n,o){var a=this,r=new oe.g(a.manager);r.setPath(a.path),r.load(e,function(e){t(a.parse(e))},n,o)},parse:function(e){function x(e,t,n,o,a,r,i,c){o=o*Math.PI/180,t=Math.abs(t),n=Math.abs(n);var s=(i.x-c.x)/2,l=(i.y-c.y)/2,u=Math.cos(o)*s+Math.sin(o)*l,p=-Math.sin(o)*s+Math.cos(o)*l,m=t*t,d=n*n,f=u*u,h=p*p,v=f/m+h/d;if(1<v){var y=Math.sqrt(v);m=(t*=y)*t,d=(n*=y)*n}var b=m*h+d*f,x=(m*d-b)/b,g=Math.sqrt(Math.max(0,x));a===r&&(g=-g);var w=g*t*p/n,M=-g*n*u/t,P=Math.cos(o)*w-Math.sin(o)*M+(i.x+c.x)/2,A=Math.sin(o)*w+Math.cos(o)*M+(i.y+c.y)/2,T=O(1,0,(u-w)/t,(p-M)/n),E=O((u-w)/t,(p-M)/n,(-u-w)/t,(-p-M)/n)%(2*Math.PI);e.currentPath.absellipse(P,A,t,n,T,T+E,0===r,o)}function O(e,t,n,o){var a=e*n+t*o,r=Math.sqrt(e*e+t*t)*Math.sqrt(n*n+o*o),i=Math.acos(Math.max(-1,Math.min(1,a/r)));return e*o-t*n<0&&(i=-i),i}function c(o,a){function e(e,t,n){void 0===n&&(n=function(e){return e}),o.hasAttribute(e)&&(a[t]=n(o.getAttribute(e))),""!==o.style[e]&&(a[t]=n(o.style[e]))}function t(e){return Math.max(0,Math.min(1,e))}function n(e){return Math.max(0,e)}return a=Object.assign({},a),e("fill","fill"),e("fill-opacity","fillOpacity",t),e("stroke","stroke"),e("stroke-opacity","strokeOpacity",t),e("stroke-width","strokeWidth",n),e("stroke-linejoin","strokeLineJoin"),e("stroke-linecap","strokeLineCap"),e("stroke-miterlimit","strokeMiterLimit",n),a}function g(e,t){return e-(t-e)}function w(e){for(var t=e.split(/[\s,]+|(?=\s?[+\-])/),n=0;n<t.length;n++){var o=t[n];if(o.indexOf(".")!==o.lastIndexOf("."))for(var a=o.split("."),r=2;r<a.length;r++)t.splice(n+r-1,0,"0."+a[r]);t[n]=parseFloat(o)}return t}console.log("THREE.SVGLoader");var s=[],l=[],y=new oe.m,b=new oe.m,M=new oe.m,P=new oe.m,m=new oe.A,d=new oe.B,u=new oe.m;console.time("THREE.SVGLoader: DOMParser");var t=(new DOMParser).parseFromString(e,"image/svg+xml");console.timeEnd("THREE.SVGLoader: DOMParser"),console.time("THREE.SVGLoader: Parse"),function e(t,n){if(1===t.nodeType){var o=function(e){if(!e.hasAttribute("transform"))return null;var t=function(e){for(var t=new oe.m,n=y,o=e.getAttribute("transform").split(")"),a=o.length-1;0<=a;a--){var r=o[a].trim();if(""!==r){var i=r.indexOf("("),c=r.length;if(0<i&&i<c){var s=r.substr(0,i),l=w(r.substr(i+1,c-i-1));switch(n.identity(),s){case"translate":if(1<=l.length){var u=l[0],p=u;2<=l.length&&(p=l[1]),n.translate(u,p)}break;case"rotate":if(1<=l.length){var m,d=0,f=0;m=-l[0]*Math.PI/180,3<=l.length&&(d=l[1],f=l[2]),b.identity().translate(-d,-f),M.identity().rotate(m),P.multiplyMatrices(M,b),b.identity().translate(d,f),n.multiplyMatrices(b,P)}break;case"scale":if(1<=l.length){var h=l[0],v=h;2<=l.length&&(v=l[1]),n.scale(h,v)}break;case"skewX":1===l.length&&n.set(1,Math.tan(l[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===l.length&&n.set(1,0,0,Math.tan(l[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===l.length&&n.set(l[0],l[2],l[4],l[1],l[3],l[5],0,0,1)}}t.premultiply(n)}}return t}(e);return 0<l.length&&t.premultiply(l[l.length-1]),u.copy(t),l.push(t),t}(t),a=null;switch(t.nodeName){case"svg":break;case"g":n=c(t,n);break;case"path":n=c(t,n),t.hasAttribute("d")&&(a=function(e){for(var t=new oe.w,n=new oe.A,o=new oe.A,a=new oe.A,r=!0,i=!1,c=e.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi),s=0,l=c.length;s<l;s++){var u=c[s],p=u.charAt(0),m=u.substr(1).trim();switch(!0===r&&(r=!(i=!0)),p){case"M":for(var d=w(m),f=0,h=d.length;f<h;f+=2)n.x=d[f+0],n.y=d[f+1],o.x=n.x,o.y=n.y,0===f?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"H":for(d=w(m),f=0,h=d.length;f<h;f++)n.x=d[f],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"V":for(d=w(m),f=0,h=d.length;f<h;f++)n.y=d[f],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"L":for(d=w(m),f=0,h=d.length;f<h;f+=2)n.x=d[f+0],n.y=d[f+1],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"C":for(d=w(m),f=0,h=d.length;f<h;f+=6)t.bezierCurveTo(d[f+0],d[f+1],d[f+2],d[f+3],d[f+4],d[f+5]),o.x=d[f+2],o.y=d[f+3],n.x=d[f+4],n.y=d[f+5],0===f&&!0===i&&a.copy(n);break;case"S":for(d=w(m),f=0,h=d.length;f<h;f+=4)t.bezierCurveTo(g(n.x,o.x),g(n.y,o.y),d[f+0],d[f+1],d[f+2],d[f+3]),o.x=d[f+0],o.y=d[f+1],n.x=d[f+2],n.y=d[f+3],0===f&&!0===i&&a.copy(n);break;case"Q":for(d=w(m),f=0,h=d.length;f<h;f+=4)t.quadraticCurveTo(d[f+0],d[f+1],d[f+2],d[f+3]),o.x=d[f+0],o.y=d[f+1],n.x=d[f+2],n.y=d[f+3],0===f&&!0===i&&a.copy(n);break;case"T":for(d=w(m),f=0,h=d.length;f<h;f+=2){var v=g(n.x,o.x),y=g(n.y,o.y);t.quadraticCurveTo(v,y,d[f+0],d[f+1]),o.x=v,o.y=y,n.x=d[f+0],n.y=d[f+1],0===f&&!0===i&&a.copy(n)}break;case"A":for(d=w(m),f=0,h=d.length;f<h;f+=7){var b=n.clone();n.x=d[f+5],n.y=d[f+6],o.x=n.x,o.y=n.y,x(t,d[f],d[f+1],d[f+2],d[f+3],d[f+4],b,n),0===f&&!0===i&&a.copy(n)}break;case"m":for(d=w(m),f=0,h=d.length;f<h;f+=2)n.x+=d[f+0],n.y+=d[f+1],o.x=n.x,o.y=n.y,0===f?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"h":for(d=w(m),f=0,h=d.length;f<h;f++)n.x+=d[f],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"v":for(d=w(m),f=0,h=d.length;f<h;f++)n.y+=d[f],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"l":for(d=w(m),f=0,h=d.length;f<h;f+=2)n.x+=d[f+0],n.y+=d[f+1],o.x=n.x,o.y=n.y,t.lineTo(n.x,n.y),0===f&&!0===i&&a.copy(n);break;case"c":for(d=w(m),f=0,h=d.length;f<h;f+=6)t.bezierCurveTo(n.x+d[f+0],n.y+d[f+1],n.x+d[f+2],n.y+d[f+3],n.x+d[f+4],n.y+d[f+5]),o.x=n.x+d[f+2],o.y=n.y+d[f+3],n.x+=d[f+4],n.y+=d[f+5],0===f&&!0===i&&a.copy(n);break;case"s":for(d=w(m),f=0,h=d.length;f<h;f+=4)t.bezierCurveTo(g(n.x,o.x),g(n.y,o.y),n.x+d[f+0],n.y+d[f+1],n.x+d[f+2],n.y+d[f+3]),o.x=n.x+d[f+0],o.y=n.y+d[f+1],n.x+=d[f+2],n.y+=d[f+3],0===f&&!0===i&&a.copy(n);break;case"q":for(d=w(m),f=0,h=d.length;f<h;f+=4)t.quadraticCurveTo(n.x+d[f+0],n.y+d[f+1],n.x+d[f+2],n.y+d[f+3]),o.x=n.x+d[f+0],o.y=n.y+d[f+1],n.x+=d[f+2],n.y+=d[f+3],0===f&&!0===i&&a.copy(n);break;case"t":for(d=w(m),f=0,h=d.length;f<h;f+=2)v=g(n.x,o.x),y=g(n.y,o.y),t.quadraticCurveTo(v,y,n.x+d[f+0],n.y+d[f+1]),o.x=v,o.y=y,n.x=n.x+d[f+0],n.y=n.y+d[f+1],0===f&&!0===i&&a.copy(n);break;case"a":for(d=w(m),f=0,h=d.length;f<h;f+=7)b=n.clone(),n.x+=d[f+5],n.y+=d[f+6],o.x=n.x,o.y=n.y,x(t,d[f],d[f+1],d[f+2],d[f+3],d[f+4],b,n),0===f&&!0===i&&a.copy(n);break;case"Z":case"z":t.currentPath.autoClose=!0,0<t.currentPath.curves.length&&(n.copy(a),t.currentPath.currentPoint.copy(n),r=!0);break;default:console.warn(u)}i=!1}return t}(t));break;case"rect":n=c(t,n),a=function(e){var t=parseFloat(e.getAttribute("x")||0),n=parseFloat(e.getAttribute("y")||0),o=parseFloat(e.getAttribute("rx")||0),a=parseFloat(e.getAttribute("ry")||0),r=parseFloat(e.getAttribute("width")),i=parseFloat(e.getAttribute("height")),c=new oe.w;return c.moveTo(t+2*o,n),c.lineTo(t+r-2*o,n),0===o&&0===a||c.bezierCurveTo(t+r,n,t+r,n,t+r,n+2*a),c.lineTo(t+r,n+i-2*a),0===o&&0===a||c.bezierCurveTo(t+r,n+i,t+r,n+i,t+r-2*o,n+i),c.lineTo(t+2*o,n+i),0===o&&0===a||c.bezierCurveTo(t,n+i,t,n+i,t,n+i-2*a),c.lineTo(t,n+2*a),0===o&&0===a||c.bezierCurveTo(t,n,t,n,t+2*o,n),c}(t);break;case"polygon":n=c(t,n),a=function(e){var r=new oe.w,i=0;return e.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(e,t,n){var o=parseFloat(t),a=parseFloat(n);0===i?r.moveTo(o,a):r.lineTo(o,a),i++}),r.currentPath.autoClose=!0,r}(t);break;case"polyline":n=c(t,n),a=function(e){var r=new oe.w,i=0;return e.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(e,t,n){var o=parseFloat(t),a=parseFloat(n);0===i?r.moveTo(o,a):r.lineTo(o,a),i++}),r.currentPath.autoClose=!1,r}(t);break;case"circle":n=c(t,n),a=function(e){var t=parseFloat(e.getAttribute("cx")),n=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("r")),a=new oe.p;a.absarc(t,n,o,0,2*Math.PI);var r=new oe.w;return r.subPaths.push(a),r}(t);break;case"ellipse":n=c(t,n),a=function(e){var t=parseFloat(e.getAttribute("cx")),n=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("rx")),a=parseFloat(e.getAttribute("ry")),r=new oe.p;r.absellipse(t,n,o,a,0,2*Math.PI);var i=new oe.w;return i.subPaths.push(r),i}(t);break;case"line":n=c(t,n),a=function(e){var t=parseFloat(e.getAttribute("x1")),n=parseFloat(e.getAttribute("y1")),o=parseFloat(e.getAttribute("x2")),a=parseFloat(e.getAttribute("y2")),r=new oe.w;return r.moveTo(t,n),r.lineTo(o,a),r.currentPath.autoClose=!1,r}(t);break;default:console.log(t)}a&&(void 0!==n.fill&&"none"!==n.fill&&a.color.setStyle(n.fill),function(e,t){function n(e){d.set(e.x,e.y,1).applyMatrix3(t),e.set(d.x,d.y)}for(var o=function(e){return 0!==e.elements[1]||0!==e.elements[3]}(t),a=e.subPaths,r=0,i=a.length;r<i;r++)for(var c=a[r].curves,s=0;s<c.length;s++){var l=c[s];l.isLineCurve?(n(l.v1),n(l.v2)):l.isCubicBezierCurve?(n(l.v0),n(l.v1),n(l.v2),n(l.v3)):l.isQuadraticBezierCurve?(n(l.v0),n(l.v1),n(l.v2)):l.isEllipseCurve&&(o&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),m.set(l.aX,l.aY),n(m),l.aX=m.x,l.aY=m.y,l.xRadius*=(p=t.elements,Math.sqrt(p[0]*p[0]+p[1]*p[1])),l.yRadius*=(u=t.elements,Math.sqrt(u[3]*u[3]+u[4]*u[4])))}var u,p}(a,u),s.push(a),a.userData={node:t,style:n});for(var r=t.childNodes,i=0;i<r.length;i++)e(r[i],n);o&&(l.pop(),0<l.length?u.copy(l[l.length-1]):u.identity())}}(t.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4});var n={paths:s,xml:t.documentElement};return console.timeEnd("THREE.SVGLoader: Parse"),n}}),u.getStrokeStyle=function(e,t,n,o,a){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:n=void 0!==n?n:"miter",strokeLineCap:o=void 0!==o?o:"butt",strokeMiterLimit:a=void 0!==a?a:4}},u.pointsToStroke=function(e,t,n,o){var a=[],r=[],i=[];if(0===u.pointsToStrokeWithBuffers(e,t,n,o,a,r,i))return null;var c=new oe.a;return c.addAttribute("position",new oe.h(a,3)),c.addAttribute("normal",new oe.h(r,3)),c.addAttribute("uv",new oe.h(i,2)),c},u.pointsToStrokeWithBuffers=(F=new oe.A,Y=new oe.A,U=new oe.A,B=new oe.A,X=new oe.A,q=new oe.A,G=new oe.A,Z=new oe.A,W=new oe.A,J=new oe.A,K=new oe.A,Q=new oe.A,$=new oe.A,ee=new oe.A,te=new oe.A,ne=new oe.A,ae=new oe.A,function(e,c,l,r,s,o,a,t){l=void 0!==l?l:12,r=void 0!==r?r:.001,t=void 0!==t?t:0;var n=(e=function(e){for(var t=!1,n=1,o=e.length-1;n<o;n++)if(e[n].distanceTo(e[n+1])<r){t=!0;break}if(!t)return e;var a=[];for(a.push(e[0]),n=1,o=e.length-1;n<o;n++)e[n].distanceTo(e[n+1])>=r&&a.push(e[n]);return a.push(e[e.length-1]),a}(e)).length;if(n<2)return 0;var i,u,p,m,d,f=e[0].equals(e[n-1]),h=e[0],v=c.strokeWidth/2,y=1/(n-1),b=0,x=!1,g=0,w=3*t,M=2*t;j(e[0],e[1],F).multiplyScalar(v),Z.copy(e[0]).sub(F),W.copy(e[0]).add(F),J.copy(Z),K.copy(W);for(var P=1;P<n;P++){i=e[P],u=P===n-1?f?e[1]:void 0:e[P+1];var A=F;j(h,i,A),U.copy(A).multiplyScalar(v),Q.copy(i).sub(U),$.copy(i).add(U);var T=b+y;if(p=!1,void 0!==u){j(i,u,Y),U.copy(Y).multiplyScalar(v),ee.copy(i).sub(U),te.copy(i).add(U),m=!0,U.subVectors(u,h),A.dot(U)<0&&(m=!1),1===P&&(x=m),U.subVectors(u,i),U.normalize();var E=Math.abs(A.dot(U));if(0!==E){var O=v/E;U.multiplyScalar(-O),B.subVectors(i,h),X.copy(B).setLength(O).add(U),ne.copy(X).negate();var k=X.length(),_=B.length();B.divideScalar(_),q.subVectors(u,i);var S=q.length();switch(q.divideScalar(S),B.dot(ne)<_&&q.dot(ne)<S&&(p=!0),ae.copy(X).add(i),ne.add(i),d=!1,p?m?(te.copy(ne),$.copy(ne)):(ee.copy(ne),Q.copy(ne)):N(),c.strokeLineJoin){case"bevel":V(m,p,T);break;case"round":H(m,p),m?R(i,Q,ee,T,0):R(i,te,$,T,1);break;case"miter":case"miter-clip":default:var L=v*c.strokeMiterLimit/k;if(L<1){if("miter-clip"!==c.strokeLineJoin){V(m,p,T);break}H(m,p),m?(q.subVectors(ae,Q).multiplyScalar(L).add(Q),G.subVectors(ae,ee).multiplyScalar(L).add(ee),z(Q,T,0),z(q,T,0),z(i,T,.5),z(i,T,.5),z(q,T,0),z(G,T,0),z(i,T,.5),z(G,T,0),z(ee,T,0)):(q.subVectors(ae,$).multiplyScalar(L).add($),G.subVectors(ae,te).multiplyScalar(L).add(te),z($,T,1),z(q,T,1),z(i,T,.5),z(i,T,.5),z(q,T,1),z(G,T,1),z(i,T,.5),z(G,T,1),z(te,T,1))}else p?(m?(z(W,b,1),z(Z,b,0),z(ae,T,0),z(W,b,1),z(ae,T,0),z(ne,T,1)):(z(W,b,1),z(Z,b,0),z(ae,T,1),z(Z,b,0),z(ne,T,0),z(ae,T,1)),m?ee.copy(ae):te.copy(ae)):m?(z(Q,T,0),z(ae,T,0),z(i,T,.5),z(i,T,.5),z(ae,T,0),z(ee,T,0)):(z($,T,1),z(ae,T,1),z(i,T,.5),z(i,T,.5),z(ae,T,1),z(te,T,1)),d=!0}}else N()}else N();f||P!==n-1||I(e[0],J,K,m,!0,b),b=T,h=i,Z.copy(ee),W.copy(te)}if(f){if(p&&s){var C=ae,D=ne;x!==m&&(C=ne,D=ae),m?(D.toArray(s,0),D.toArray(s,9),d&&C.toArray(s,3)):(D.toArray(s,3),D.toArray(s,9),d&&C.toArray(s,0))}}else I(i,Q,$,m,!1,T);return g;function j(e,t,n){return n.subVectors(t,e),n.set(-n.y,n.x).normalize()}function z(e,t,n){s&&(s[w]=e.x,s[w+1]=e.y,s[w+2]=0,o&&(o[w]=0,o[w+1]=0,o[w+2]=1),w+=3,a&&(a[M]=t,a[M+1]=n,M+=2)),g+=3}function R(e,t,n,o,a){F.copy(t).sub(e).normalize(),Y.copy(n).sub(e).normalize();var r=Math.PI,i=F.dot(Y);Math.abs(i)<1&&(r=Math.abs(Math.acos(i))),r/=l,U.copy(t);for(var c=0,s=l-1;c<s;c++)B.copy(U).rotateAround(e,r),z(U,o,a),z(B,o,a),z(e,o,.5),U.copy(B);z(B,o,a),z(n,o,a),z(e,o,.5)}function N(){z(W,b,1),z(Z,b,0),z(Q,T,0),z(W,b,1),z(Q,T,1),z($,T,0)}function V(e,t,n){t?(e?(z(W,b,1),z(Z,b,0),z(Q,T,0),z(W,b,1),z(Q,T,0),z(ne,T,1),z(Q,n,0),z(ee,n,0)):(z(W,b,1),z(Z,b,0),z($,T,1),z(Z,b,0),z(ne,T,0),z($,T,1),z($,n,1),z(te,n,0)),z(ne,n,.5)):(e?(z(Q,n,0),z(ee,n,0)):(z($,n,1),z(te,n,0)),z(i,n,.5))}function H(e,t){t&&(e?(z(W,b,1),z(Z,b,0),z(Q,T,0),z(W,b,1),z(Q,T,0),z(ne,T,1),z(Q,b,0),z(i,T,.5),z(ne,T,1),z(i,T,.5),z(ee,b,0),z(ne,T,1)):(z(W,b,1),z(Z,b,0),z($,T,1),z(Z,b,0),z(ne,T,0),z($,T,1),z($,b,1),z(ne,T,0),z(i,T,.5),z(i,T,.5),z(ne,T,0),z(te,b,1)))}function I(e,t,n,o,a,r){switch(c.strokeLineCap){case"round":a?R(e,n,t,r,.5):R(e,t,n,r,.5);break;case"square":if(a)F.subVectors(t,e),Y.set(F.y,-F.x),U.addVectors(F,Y).add(e),B.subVectors(Y,F).add(e),o?(U.toArray(s,3),B.toArray(s,0),B.toArray(s,9)):(U.toArray(s,3),U.toArray(s,9),B.toArray(s,0));else{F.subVectors(n,e),Y.set(F.y,-F.x),U.addVectors(F,Y).add(e),B.subVectors(Y,F).add(e);var i=s.length;o?(U.toArray(s,i-3),B.toArray(s,i-6)):(U.toArray(s,i-6),B.toArray(s,i-3)),B.toArray(s,i-12)}}}});var p=u;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){function s(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=new oe.r(2,2),o=new oe.z,a=o.load("public/earth/earth-day.jpg"),r=o.load("public/earth/earth-aux.jpg"),i=o.load("public/earth/earth-nrm.jpg");a.wrapS=oe.u,r.wrapS=oe.u,i.wrapS=oe.u;var c=new oe.t({uniforms:{lDir:{value:new oe.B},invViewMatrix:{value:new oe.n},scale:{value:e},dayTex:{type:"t",value:a},auxTex:{type:"t",value:r},nrmTex:{type:"t",value:i}},vertexShader:"precision highp float;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 invViewMatrix;\n\nuniform vec3 cameraPosition;\n\nuniform float scale;\n\nattribute vec3 position;\nvarying vec3 fragPos;\n\n// sPos : position of sphere in 2D, where the Y should be perpendicular to camera plane\n// s    : sign for either min or max of sphere on X axis of sPos\n// returns additional correction on X axis due to projection\nfloat perspectiveCorrect(vec2 sPos, float s) {\n    float l = sqrt(pow(sPos.y, 2.0) + pow(sPos.x, 2.0));\n    float a = asin(sPos.x / l);\n    float b = asin(scale / l) * s;\n    return ((scale / cos(a + b)) - scale) * s;\n}\n\nvoid main() {\n    /* \n       first we multiply the matrices together for positioning\n       then set rotation part to identity for a billboard effect\n       (where the render plane is always parallel with the near plane)\n    */\n    mat4 modelViewMatrix = viewMatrix * modelMatrix;\n\n    // first column\n    modelViewMatrix[0][0] = scale; \n    modelViewMatrix[0][1] = 0.0; \n    modelViewMatrix[0][2] = 0.0; \n\n    // second column\n    modelViewMatrix[1][0] = 0.0; \n    modelViewMatrix[1][1] = scale; \n    modelViewMatrix[1][2] = 0.0; \n\n    // third column\n    modelViewMatrix[2][0] = 0.0; \n    modelViewMatrix[2][1] = 0.0; \n    modelViewMatrix[2][2] = scale; \n\n    // position of render plane vertex relative to camera\n    vec4 viewPos = modelViewMatrix * vec4(position, 1);\n\n    // position of sphere center relative to camera\n    vec4 spherePos = viewMatrix * modelMatrix[3];\n\n    // extend plane sides for complete render of sphere\n    viewPos.x += perspectiveCorrect(spherePos.xz, position.x);\n    viewPos.y += perspectiveCorrect(spherePos.yz, position.y);\n\n    // forward world pos of vertex to fragment shader\n    fragPos = (invViewMatrix * viewPos).xyz;\n\n    // corner positions of plane\n    gl_Position = projectionMatrix * viewPos;\n}\n",fragmentShader:"precision highp float;\n#extension GL_OES_standard_derivatives : enable\n\n#define PI 3.14159265359\n#define MAX 10000\n\n\n// scatter const\n#define RATIO 0.99\n#define RED_OUT 1.0 // TODO: remove\n\n#define ATMOS_REACH .005\n#define ATMOS_SCALE 40.0\n#define SHINE_THROUGH 0.88\n\n#define NUM_OUT_SCATTER 1.0\n#define NUM_IN_SCATTER 4.0\n\n#define PH_RAY 0.8\n#define PH_MIE 0.05\n\n\n\nuniform vec3 cameraPosition;\nuniform float scale;\nuniform mat4 invViewMatrix;\nuniform mat4 modelMatrix;\nuniform vec3 lDir;\n\n\nuniform sampler2D dayTex;\nuniform sampler2D nrmTex;\nuniform sampler2D auxTex;\n\nvarying vec3 fragPos;\n\nvec2 Sphere(vec3 origin, vec3 ray, float radius);\nvec3 MapUV(vec3 normal, vec3 ray, vec3 lightDir);\nvec3 in_scatter( vec3 o, vec3 dir, vec2 e, vec3 l, float inner, float outer );\n\nvoid main() {\n    float inner = scale * RATIO;\n    float outer = scale;\n\n    vec3 color = vec3(0);\n    \n    // out of screen ray\n    vec3 ray = normalize(cameraPosition - fragPos);\n\n    // atmosphere raycast\n    vec2 outerSphereHits = Sphere(cameraPosition, ray, outer);\n    if (outerSphereHits.x > outerSphereHits.y) {\n        gl_FragColor = vec4(0);\n        return;\n    }\n\n    // planet raycast\n    vec2 innerSphereHits = Sphere(cameraPosition, ray, inner);\n    if (innerSphereHits.x < innerSphereHits.y) {\n        // calculate world normal\n        vec3 worldPos = (ray * innerSphereHits.x);\n        vec3 normalDir = normalize(cameraPosition - worldPos);\n\n        // final earth texture\n        color = MapUV(normalDir, ray, lDir);\n    }\n\n    outerSphereHits.y = min(outerSphereHits.y, innerSphereHits.x);\n\n\n    vec3 I = in_scatter( cameraPosition, ray, -outerSphereHits.yx, lDir, inner, outer);\n    color += pow(I, vec3(1.2));\n\n    // calculate world normal\n    vec3 worldPos = (ray * outerSphereHits.x);\n    vec3 normalDir = normalize(cameraPosition - worldPos);\n\n\n    // transparent atmosphere\n    float t = min(1.0, 1.0 - dot(normalDir, ray) + 0.13);\n    t = pow(t, 5.);\n\n    t = 1. - t;\n    t = min(1., t * 5.);\n    gl_FragColor = vec4(color, t);\n}\n\n// ray intersects sphere\n// e = -b +/- sqrt( b^2 - c )\nvec2 Sphere(vec3 origin, vec3 ray, float radius) {\n\tfloat b = dot(origin, ray);\n\tfloat c = dot(origin, origin) - radius * radius;\n\t\n\tfloat d = b * b - c;\n\tif (d < 0.0) {\n\t\treturn vec2(MAX, -MAX);\n\t}\n\td = sqrt(d);\n\treturn vec2(b-d, b+d);\n}\n\n\nvec3 MapUV(vec3 normalDir, vec3 ray, vec3 lightDir) {\n    // https://forum.unity.com/threads/what-is-this-mipmap-artifact.657052/\n    float t = atan(normalDir.x, normalDir.z) / (2.0 * PI);\n\n    float t_a = t + 0.5;\n    float t_b = fract(t + 1.0) - 0.5;\n    \n    vec2 uv = vec2(\n        fwidth(t_a) < fwidth(t_b) ? t_a : t_b,\n        0.5 - asin(-normalDir.y) / PI\n    );\n\n    // texture mapping\n    vec3 dayMap = texture2D(dayTex, uv).rgb;\n    // vec3 normalMap = texture2D(nrmTex, uv).rgb * 2.0 - 1.0;\n    vec3 auxMap = texture2D(auxTex, uv).rgb;\n    \n    float lit = auxMap.r;\n    float specular = auxMap.g;\n    float cloud = auxMap.b;\n\n\n    // reflection of water\n    vec3 reflectDir = reflect(-lightDir, normalDir);\n\n    // TODO: optimize this bit\n    float reflectAmount = pow(max(dot(ray, reflectDir), 0.0), 15.0) * specular;\n\n\n    // clouds\n    dayMap = mix(dayMap, vec3(1), vec3(cloud * 1.1));\n\n    // normal mapPIng\n    // vec3 npole = (modelMatrix * vec4(0, 1, 0, 0)).xyz;\n    // vec3 tangent = -cross(normalDir, npole);\n    // vec3 biTangent = -cross(tangent, normalDir);\n    // mat3 tbn = mat3(tangent, biTangent, normalDir);\n\n    // vec3 normalMapDir = tbn * normalMap;\n\n    // lighting of earth\n    float shadow = max(0.01, dot(normalDir, lightDir));\n    dayMap *= shadow;\n\n    dayMap += lit * pow((1.0 - max(0., dot(lightDir, normalDir) + 0.2)), 5.0);\n\n    dayMap = mix(dayMap, vec3(1), reflectAmount / 2.0);\n\n    return dayMap;\n}\n\n\n\n// // math const\n// const float MAX = 10000.0;\n\n\n\n// Mie\n// g : ( -0.75, -0.999 )\n//      3 * ( 1 - g^2 )               1 + c^2\n// F = ----------------- * -------------------------------\n//      8PI * ( 2 + g^2 )     ( 1 + g^2 - 2 * g * c )^(3/2)\nfloat phase_mie( float g, float c, float cc ) {\n\tfloat gg = g * g;\n\t\n\tfloat a = ( 1.0 - gg ) * ( 1.0 + cc );\n\n\tfloat b = 1.0 + gg - 2.0 * g * c;\n\tb *= sqrt( b );\n\tb *= 2.0 + gg;\t\n\t\n\treturn ( 3.0 / 8.0 / PI ) * a / b;\n}\n\n// Rayleigh\n// g : 0\n// F = 3/16PI * ( 1 + c^2 )\nfloat phase_ray( float cc ) {\n\treturn ( 3.0 / 16.0 / PI ) * ( 1.0 + cc );\n}\n\n\n\nfloat density( vec3 p, float ph, float d ) {\n\treturn exp( -max( length( p ) - d, 0.0 ) / (ph * ATMOS_REACH) );\n}\n\nfloat optic( vec3 p, vec3 q, float ph, float d ) {\n\tvec3 s = ( q - p );\n\tvec3 v = p + s * 0.2;\n\t\n\tfloat sum = 0.0;\n    sum += density( v, ph, d );\n\tsum *= length( s );\n\t\n\treturn sum;\n}\n\n\n// amount of MIE shine\n#define SHINE 1.5\n\nvec3 in_scatter( vec3 o, vec3 dir, vec2 e, vec3 l, float inner, float outer ) {\n\tconst float ph_ray = PH_RAY;\n    const float ph_mie = PH_MIE;\n    \n    const vec3 k_ray = vec3( 7.8, 10.5, 17.1 ) * .5;\n    const vec3 k_mie = vec3( 27 );\n    float k_mie_ex = -0.05 * max(-0.2, min(1.0, .5 + dot( dir, -l ) * 3.0));\n    \n\tvec3 sum_ray = vec3( 0.0 );\n    vec3 sum_mie = vec3( 0.0 );\n    \n    float n_ray0 = 0.0;\n    float n_mie0 = 0.0;\n    \n\tfloat len = ( e.y - e.x ) / 5.0;\n    vec3 s = -dir * len;\n\tvec3 v = -o + -dir * ( e.x + len * 0.5 );\n    \n    vec2 f = Sphere( v, l, outer * RED_OUT ) * SHINE;\n\n\n    float d_ray = density( v, ph_ray, inner ) * len * 15.0;\n    float d_mie = density( v, ph_mie, inner ) * len;\n    \n    n_ray0 += d_ray;\n    n_mie0 += d_mie;\n\n    vec3 u = v - l * f.y;\n    \n    float n_ray1 = optic( v, u, ph_ray, inner );\n    float n_mie1 = optic( v, u, ph_mie, inner );\n    \n    vec3 att = exp( - ( n_ray0 + n_ray1 ) * k_ray - ( n_mie0 + n_mie1 ) * k_mie * k_mie_ex );\n    \n    sum_ray += d_ray * att;\n    sum_mie += d_mie * att;\n\n\n\tfloat c  = dot( dir, -l );\n\tfloat cc = c * c;\n    vec3 scatter =\n        sum_ray * k_ray * phase_ray( cc / 1000. ) +\n     \tsum_mie * k_mie * phase_mie(SHINE_THROUGH, c, cc );\n    \n\t\n\treturn ATMOS_SCALE * scatter;\n}\n",transparent:!0});return h(f(t=function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?f(e):t}(this,d(s).call(this,n,c))),"setSunDir",function(e){t.material.uniforms.lDir.value=e}),h(f(t),"loadBorders",function(e){(new p).load(e,function(e){for(var t=new oe.i,n=e.xml.width.animVal.value,o=e.xml.height.animVal.value,a=new oe.t({vertexShader:"precision highp float;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\nvoid main() {\n    gl_Position = projectionMatrix * viewMatrix * vec4(position, 1);\n}\n",fragmentShader:"precision highp float;\n\nvoid main() {\n    gl_FragColor = vec4(1);\n}\n"}),r=0;r<e.paths.length;r++){for(var i=e.paths[r],c=[],s=0;s<i.subPaths.length;s++)for(var l=i.subPaths[s].getPoints(),u=0;u<l.length;u++){var p=l[u],m=Math.PI-(p.x/n-.5)*Math.PI*2-Math.PI/2,d=-(p.y/o-.5)*Math.PI*.962-.055;c.push(Math.cos(d)*Math.cos(m)/2.02,Math.sin(d)/2.02,Math.cos(d)*Math.sin(m)/2.02)}var f=(new oe.a).addAttribute("position",new oe.h(c,3)),h=new oe.j(f,a);h.frustumCulled=!1,t.add(h)}this.add(t)}.bind(f(t)),function(e){console.log("loading...")},function(e){console.error(e)})}),t.onBeforeRender=function(e,t,n,o,a){a.uniforms.invViewMatrix.value=n.matrixWorld},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(s,oe["o"]),s}(),i=n("yVZF"),c=n.n(i);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(){function a(){var r,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=new oe.r(1,1),o=new oe.t({uniforms:{invViewMatrix:{value:new oe.n}},vertexShader:"precision highp float;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\nvarying vec2 uv;\n\n\nvoid main() {\n    uv = position.xy;\n\n    mat4 modelViewMatrix = viewMatrix * modelMatrix;\n\n    // first column\n    modelViewMatrix[0][0] = modelMatrix[0][0]; \n    modelViewMatrix[0][1] = 0.0; \n    modelViewMatrix[0][2] = 0.0; \n\n    // second column\n    modelViewMatrix[1][0] = 0.0; \n    modelViewMatrix[1][1] = modelMatrix[1][1]; \n    modelViewMatrix[1][2] = 0.0; \n\n    // third column\n    modelViewMatrix[2][0] = 0.0; \n    modelViewMatrix[2][1] = 0.0; \n    modelViewMatrix[2][2] = modelMatrix[2][2]; \n\n    // position of render plane vertex relative to camera\n    vec4 viewPos = modelViewMatrix * vec4(position, 1);\n\n    gl_Position =  projectionMatrix * modelViewMatrix * vec4(position, 1);\n}\n",fragmentShader:"precision highp float;\n\nuniform vec3 cameraPosition;\nvarying vec2 uv;\nuniform float scale;\n\n\nvoid main() {\n        // gl_FragColor = vec4(1);\n\n        float fade1 = 1. - distance(uv, vec2(0)) * 20.;\n        float fade2 = 1. - distance(uv, vec2(0)) * 1.5;\n\n        fade1 = max(0.0, min(1.0, fade1));\n        fade1 *= 2.5;\n        fade1 = pow(fade1, 3.0);\n\n        fade2 = max(0.0, min(1.0, fade2));\n        fade2 *= 0.4;\n        fade2 = pow(fade2, 2.5);\n\n        // float test = fade1;\n\n        float alpha = fade1 + fade2;\n        vec3 color = mix(vec3(1, .6, .3), vec3(1), fade2 * 4.0 + fade1 * .7);\n\n        // color *= fade1 * 1.;\n\n        // color = min(vec3(1), color);\n\n        gl_FragColor = vec4(color, alpha);\n}\n",transparent:!0});return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(x(r=function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?x(e):t}(this,b(a).call(this,n,o))),"SetPosition",function(e,t){var n=c.a.getPosition(e,90,0),o=(new oe.s).setFromEuler(new oe.e(-n.altitude,-n.azimuth,0)),a=new oe.B(0,0,1).applyQuaternion(o);r.position.copy(new oe.B(0,1,0)),r.position.copy(a.clone().multiplyScalar(.5*t*11694)),r.dir=a}),r.SetPosition(e,t),r.scale.copy(new oe.B(1,1,1).multiplyScalar(109.17*t*60)),r.frustumCulled=!1,r.onBeforeRender=function(e,t,n,o,a){a.uniforms.invViewMatrix.value=n.matrixWorld},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,oe["o"]),a}();function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=n("orRV");new function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"start",function(){o.state.looping=!0,o.state.clock.start(),function e(t){if(t.looping){for(var n=t.clock.getDelta(),o=0;o<t.updateables.length;o++)t.updateables[o](n);t.renderer.render(t.scene,t.camera),requestAnimationFrame(e.bind(null,t))}}(o.state)}),M(this,"stop",function(){o.state.looping=!1,o.state.clock.stop()});var a=function(e,t){var n=new oe.v,o=new oe.q(t.camera.fov,window.innerWidth/window.innerHeight,t.camera.near,t.camera.far),a=t.controls.distance;o.position.set(0,0,(a.max-a.min)/2+a.min);var r=new oe.C({canvas:e,antialias:!1});r.setClearColor(new oe.c("black")),r.setPixelRatio(window.devicePixelRatio),window.addEventListener("resize",function(e,t){var n=t.domElement,o=n.clientWidth,a=n.clientHeight;e.aspect=o/a,e.updateProjectionMatrix(),t.setSize(n.clientWidth,n.clientHeight,!1)}.bind(null,o,r),!1),window.dispatchEvent(new Event("resize"));var i=new s(o,void 0,t.controls);return{scene:n,clock:new oe.b(!1),controls:i,renderer:r,camera:o,updateables:[i.update],looping:!1}}(t,n),r=new l(document.body);a.updateables.push(r.record);var i=new w(Date.now());a.scene.add(i);var c=new v(.5);a.scene.add(c),c.setSunDir(i.dir),a.scene.background=function(e,t){var n=1<arguments.length&&void 0!==t?t:1e3,o=new oe.r(2,2),a=new oe.t({vertexShader:"precision highp float;\n\nuniform mat4 viewMatrix;\n\nattribute vec3 position;\nvarying vec3 fragPos;\n\nvoid main() {\n    fragPos = (viewMatrix * vec4(-position.x, position.y, 1, 0)).xyz;\n    gl_Position = vec4(position.xy, 1, 1);\n}\n",fragmentShader:"precision highp float;\n\nvarying vec3 fragPos;\n\nfloat snoise(vec3 v);\n\n\nvoid main() {\n    vec3 dir = normalize(fragPos) * 1000.0;\n    float lit = 0.1 + snoise(dir);\n\n    lit = pow(lit, 15.0);\n\n    vec3 color = vec3(lit);\n    gl_FragColor = vec4(color, 1);\n}\n\n\n//\tSimplex 3D Noise \n//\tby Ian McEwan, Ashima Arts\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\nfloat snoise(vec3 v){ \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //  x0 = x0 - 0. + 0.0 * C \n  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n// Permutations\n  i = mod(i, 289.0 ); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients\n// ( N*N points uniformly over a square, mapped onto an octahedron.)\n  float n_ = 1.0/7.0; // N=7\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n}\n"}),r=new oe.o(o,a);r.frustumCulled=!1;var i=new oe.v;i.add(r);var c=new oe.d(.1,20,n);return c.update(e,i),a.dispose(),o.dispose(),c.renderTarget}(a.renderer,1500),this.state=a}(document.getElementById("globe"),P).start()}},[["tjUo",5,1,2,3,4]]]);